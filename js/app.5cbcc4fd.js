(()=>{"use strict";var e={2550:(e,t,a)=>{a(8736);var s=a(3751),l=a(641),i=a(953),n=a(33);const o=a.p+"img/logo.4ce1668d.svg";var r=a(5220),c=a(7518);const d={class:"navbar navbar-expand-lg navbar-light bg-white shadow-sm"},u={class:"container"},m={class:"collapse navbar-collapse",id:"navbarNav"},h={class:"navbar-nav ms-auto"},v={class:"nav-item"},p={class:"nav-item"},g={class:"nav-item"},k={class:"nav-item"},b={class:"nav-item"},f={class:"nav-item"},L={class:"nav-item"},y={class:"nav-item"},C={class:"nav-item"},w={__name:"NavBar",setup(e){const t=(0,r.rd)(),a=(0,c.n)(),s=(0,l.EW)(()=>{const e=a.getIsAuthenticated;return console.log("导航栏 - 认证状态计算:",{isAuthenticated:e,user:a.user?.email,userObject:a.user}),e}),w=(0,l.EW)(()=>a.user?.displayName?a.user.displayName:a.user?.email?a.user.email.split("@")[0]:"User");(0,l.wB)(s,(e,t)=>{console.log("导航栏 - 认证状态变化:",{from:t,to:e})}),(0,l.sV)(async()=>{await a.initializeAuth(),console.log("导航栏 - 认证状态初始化完成:",{isAuthenticated:a.getIsAuthenticated,user:a.user?.email}),await(0,l.dY)(),window.bootstrap&&a.getIsAuthenticated&&console.log("Bootstrap dropdown 已准备好")});const _=async()=>{console.log("点击了Logout按钮");try{console.log("开始执行logout..."),await a.logout(),console.log("logout成功，准备跳转到登录页"),t.push("/login"),console.log("跳转命令已发送")}catch(e){console.error("Logout失败:",e),alert("退出登录失败: "+e.message)}};return(e,t)=>{const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("nav",d,[(0,l.Lk)("div",u,[(0,l.bF)(r,{class:"navbar-brand d-flex align-items-center",to:"/"},{default:(0,l.k6)(()=>t[0]||(t[0]=[(0,l.Lk)("img",{src:o,alt:"Healthy Pathway",class:"nav-logo me-2"},null,-1),(0,l.Lk)("span",{class:"brand-text"},"Healthy Pathway",-1)])),_:1,__:[0]}),t[9]||(t[9]=(0,l.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,l.Lk)("div",m,[(0,l.Lk)("ul",h,[(0,l.Lk)("li",v,[(0,l.bF)(r,{class:"nav-link",to:"/"},{default:(0,l.k6)(()=>t[1]||(t[1]=[(0,l.eW)("Home",-1)])),_:1,__:[1]})]),(0,l.Lk)("li",p,[(0,l.bF)(r,{class:"nav-link",to:"/health-articles"},{default:(0,l.k6)(()=>t[2]||(t[2]=[(0,l.Lk)("i",{class:"fas fa-newspaper me-1"},null,-1),(0,l.eW)("Health Articles ",-1)])),_:1,__:[2]})]),(0,l.Lk)("li",g,[(0,l.bF)(r,{class:"nav-link",to:"/health-map"},{default:(0,l.k6)(()=>t[3]||(t[3]=[(0,l.Lk)("i",{class:"fas fa-map-marked-alt me-1"},null,-1),(0,l.eW)("Health Map ",-1)])),_:1,__:[3]})]),(0,l.Lk)("li",k,[(0,l.bF)(r,{class:"nav-link",to:"/email-demo"},{default:(0,l.k6)(()=>t[4]||(t[4]=[(0,l.Lk)("i",{class:"fas fa-envelope me-1"},null,-1),(0,l.eW)("Email Demo ",-1)])),_:1,__:[4]})]),s.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("li",b,[(0,l.bF)(r,{class:"nav-link",to:"/login"},{default:(0,l.k6)(()=>t[5]||(t[5]=[(0,l.eW)("Login",-1)])),_:1,__:[5]})]),(0,l.Lk)("li",f,[(0,l.bF)(r,{class:"nav-link",to:"/register"},{default:(0,l.k6)(()=>t[6]||(t[6]=[(0,l.eW)("Register",-1)])),_:1,__:[6]})])],64)),(0,i.R1)(a).user?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("li",L,[(0,l.bF)(r,{class:"nav-link",to:"/doctor-rating"},{default:(0,l.k6)(()=>t[7]||(t[7]=[(0,l.eW)("Doctor Rating",-1)])),_:1,__:[7]})]),(0,l.Lk)("li",y,[(0,l.bF)(r,{class:"nav-link",to:"/consultation"},{default:(0,l.k6)(()=>t[8]||(t[8]=[(0,l.eW)("Consultation",-1)])),_:1,__:[8]})]),(0,l.Lk)("li",C,[(0,l.Lk)("button",{class:"btn btn-outline-danger btn-sm ms-2",onClick:_}," Logout ("+(0,n.v_)(w.value)+") ",1)])],64)):(0,l.Q3)("",!0)])])])])}}};var _=a(6262);const x=(0,_.A)(w,[["__scopeId","data-v-dbe020c6"]]),F=x,P={class:"app-container"},A={class:"main-content container d-flex flex-column justify-content-center align-items-center text-center"},S={class:"footer mt-auto py-4 bg-white shadow-top"},E={class:"container"},M={class:"row"},R={class:"col-md-4 mb-3"},D={class:"list-unstyled"},T={__name:"App",setup(e){return(0,l.sV)(()=>{}),(e,t)=>{const a=(0,l.g2)("router-view"),s=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",P,[(0,l.bF)(F),(0,l.Lk)("main",A,[(0,l.bF)(a)]),(0,l.Lk)("footer",S,[(0,l.Lk)("div",E,[(0,l.Lk)("div",M,[t[4]||(t[4]=(0,l.Lk)("div",{class:"col-md-4 mb-3"},[(0,l.Lk)("h5",null,"About Us"),(0,l.Lk)("p",null,"Healthy Pathway - Your trusted healthcare companion")],-1)),(0,l.Lk)("div",R,[t[3]||(t[3]=(0,l.Lk)("h5",null,"Quick Links",-1)),(0,l.Lk)("ul",D,[(0,l.Lk)("li",null,[(0,l.bF)(s,{to:"/"},{default:(0,l.k6)(()=>t[0]||(t[0]=[(0,l.eW)("Home",-1)])),_:1,__:[0]})]),(0,l.Lk)("li",null,[(0,l.bF)(s,{to:"/login"},{default:(0,l.k6)(()=>t[1]||(t[1]=[(0,l.eW)("Login",-1)])),_:1,__:[1]})]),(0,l.Lk)("li",null,[(0,l.bF)(s,{to:"/register"},{default:(0,l.k6)(()=>t[2]||(t[2]=[(0,l.eW)("Register",-1)])),_:1,__:[2]})])])]),t[5]||(t[5]=(0,l.Lk)("div",{class:"col-md-4"},[(0,l.Lk)("h5",null,"Contact"),(0,l.Lk)("p",null,"Email: support@healthypathway.com")],-1))])])])])}}},I=T,W=I,H={class:"d-flex justify-content-center align-items-center hero-section"},V={class:"text-center bg-secondary bg-opacity-75 text-white p-5 rounded-4",style:{"max-width":"min(90%, 600px)",margin:"0 auto","backdrop-filter":"blur(8px)"}},X={class:"d-flex justify-content-center gap-3"},$={class:"features-section"},O={class:"container"},j={class:"row g-4"},N={class:"col-12 col-md-4"},q={class:"feature-card"},U={class:"mt-3"},K={class:"col-12 col-md-4"},B={class:"feature-card"},z={class:"mt-3"},Q={class:"col-12 col-md-4"},J={class:"feature-card"},G={class:"mt-3"},Z={class:"row g-4 mt-4"},Y={class:"col-12 col-md-4"},ee={class:"feature-card"},te={class:"mt-3"},ae={class:"col-12 col-md-4"},se={class:"feature-card"},le={class:"mt-3"},ie={class:"col-12 col-md-4"},ne={class:"feature-card"},oe={class:"mt-3"},re={class:"contact-section"},ce={class:"container"},de={class:"row align-items-center"},ue={class:"col-md-6"},me={class:"contact-card"};function he(e,t,a,s,i,n){const o=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",H,[(0,l.Lk)("div",V,[t[2]||(t[2]=(0,l.Lk)("h1",{class:"fw-bold mb-4 display-4"},"Healthy Pathway",-1)),t[3]||(t[3]=(0,l.Lk)("p",{class:"lead mb-4"},[(0,l.eW)(" Empowering Migrant Communities Through"),(0,l.Lk)("br"),(0,l.eW)(" Healthcare & Support ")],-1)),(0,l.Lk)("div",X,[(0,l.bF)(o,{to:"/register",class:"btn btn-primary btn-lg"},{default:(0,l.k6)(()=>t[0]||(t[0]=[(0,l.eW)("Join Now",-1)])),_:1,__:[0]}),(0,l.bF)(o,{to:"/login",class:"btn btn-outline-light btn-lg"},{default:(0,l.k6)(()=>t[1]||(t[1]=[(0,l.eW)("Login",-1)])),_:1,__:[1]})])])]),(0,l.Lk)("section",$,[(0,l.Lk)("div",O,[t[34]||(t[34]=(0,l.Lk)("h2",{class:"section-title text-center mb-5"},"Our Services",-1)),(0,l.Lk)("div",j,[(0,l.Lk)("div",N,[(0,l.Lk)("div",q,[t[6]||(t[6]=(0,l.Lk)("div",{class:"feature-icon"},[(0,l.Lk)("i",{class:"bi bi-hospital"})],-1)),t[7]||(t[7]=(0,l.Lk)("h3",null,"Find a Doctor",-1)),t[8]||(t[8]=(0,l.Lk)("p",null,"Search for GPs who speak your language and accept new patients nearby",-1)),(0,l.Lk)("div",U,[(0,l.bF)(o,{to:"/doctor-rating",class:"btn btn-outline-primary"},{default:(0,l.k6)(()=>t[4]||(t[4]=[(0,l.eW)("View Doctors",-1)])),_:1,__:[4]}),t[5]||(t[5]=(0,l.Lk)("small",{class:"d-block mt-2 text-muted"},"Login required for ratings",-1))])])]),(0,l.Lk)("div",K,[(0,l.Lk)("div",B,[t[11]||(t[11]=(0,l.Lk)("div",{class:"feature-icon"},[(0,l.Lk)("i",{class:"bi bi-translate"})],-1)),t[12]||(t[12]=(0,l.Lk)("h3",null,"Multilingual Resources",-1)),t[13]||(t[13]=(0,l.Lk)("p",null,"Access translated health guides and vaccine information",-1)),(0,l.Lk)("div",z,[(0,l.bF)(o,{to:"/health-articles",class:"btn btn-outline-primary"},{default:(0,l.k6)(()=>t[9]||(t[9]=[(0,l.eW)("Read More",-1)])),_:1,__:[9]}),t[10]||(t[10]=(0,l.Lk)("small",{class:"d-block mt-2 text-muted"},"Browse health articles",-1))])])]),(0,l.Lk)("div",Q,[(0,l.Lk)("div",J,[t[16]||(t[16]=(0,l.Lk)("div",{class:"feature-icon"},[(0,l.Lk)("i",{class:"bi bi-chat-dots"})],-1)),t[17]||(t[17]=(0,l.Lk)("h3",null,"Health Consultation",-1)),t[18]||(t[18]=(0,l.Lk)("p",null,"Submit anonymous health questions and get professional answers",-1)),(0,l.Lk)("div",G,[(0,l.bF)(o,{to:"/consultation",class:"btn btn-outline-primary"},{default:(0,l.k6)(()=>t[14]||(t[14]=[(0,l.eW)("Get Started",-1)])),_:1,__:[14]}),t[15]||(t[15]=(0,l.Lk)("small",{class:"d-block mt-2 text-muted"},"Free preview available",-1))])])])]),(0,l.Lk)("div",Z,[(0,l.Lk)("div",Y,[(0,l.Lk)("div",ee,[t[21]||(t[21]=(0,l.Lk)("div",{class:"feature-icon"},[(0,l.Lk)("i",{class:"bi bi-geo-alt"})],-1)),t[22]||(t[22]=(0,l.Lk)("h3",null,"Health Facilities Map",-1)),t[23]||(t[23]=(0,l.Lk)("p",null,"Find nearby hospitals, clinics, and pharmacies with navigation",-1)),(0,l.Lk)("div",te,[(0,l.bF)(o,{to:"/health-map",class:"btn btn-outline-primary"},{default:(0,l.k6)(()=>t[19]||(t[19]=[(0,l.eW)("Explore Map",-1)])),_:1,__:[19]}),t[20]||(t[20]=(0,l.Lk)("small",{class:"d-block mt-2 text-muted"},"Location services included",-1))])])]),(0,l.Lk)("div",ae,[(0,l.Lk)("div",se,[t[26]||(t[26]=(0,l.Lk)("div",{class:"feature-icon"},[(0,l.Lk)("i",{class:"bi bi-envelope"})],-1)),t[27]||(t[27]=(0,l.Lk)("h3",null,"Contact Support",-1)),t[28]||(t[28]=(0,l.Lk)("p",null,"Send us your questions or feedback with file attachments",-1)),(0,l.Lk)("div",le,[(0,l.bF)(o,{to:"/email-demo",class:"btn btn-outline-primary"},{default:(0,l.k6)(()=>t[24]||(t[24]=[(0,l.eW)("Contact Us",-1)])),_:1,__:[24]}),t[25]||(t[25]=(0,l.Lk)("small",{class:"d-block mt-2 text-muted"},"Quick response guaranteed",-1))])])]),(0,l.Lk)("div",ie,[(0,l.Lk)("div",ne,[t[31]||(t[31]=(0,l.Lk)("div",{class:"feature-icon"},[(0,l.Lk)("i",{class:"bi bi-shield-check"})],-1)),t[32]||(t[32]=(0,l.Lk)("h3",null,"Safe & Secure",-1)),t[33]||(t[33]=(0,l.Lk)("p",null,"Your health information is protected with advanced security",-1)),(0,l.Lk)("div",oe,[(0,l.bF)(o,{to:"/register",class:"btn btn-outline-primary"},{default:(0,l.k6)(()=>t[29]||(t[29]=[(0,l.eW)("Join Safely",-1)])),_:1,__:[29]}),t[30]||(t[30]=(0,l.Lk)("small",{class:"d-block mt-2 text-muted"},"GDPR compliant",-1))])])])])])]),t[39]||(t[39]=(0,l.Fv)('<section class="mission-section" data-v-bafa5ed4><div class="container" data-v-bafa5ed4><div class="row align-items-center" data-v-bafa5ed4><div class="col-md-6" data-v-bafa5ed4><h2 class="section-title" data-v-bafa5ed4>Our Mission</h2><p class="mission-text" data-v-bafa5ed4> We ensure equitable healthcare access for migrants through multilingual resources, culturally appropriate support, and community-driven education. We are committed to: </p><ul class="mission-list" data-v-bafa5ed4><li data-v-bafa5ed4><i class="bi bi-check-circle-fill" data-v-bafa5ed4></i> Eliminating Language Barriers</li><li data-v-bafa5ed4><i class="bi bi-check-circle-fill" data-v-bafa5ed4></i> Providing Culturally Sensitive Care</li><li data-v-bafa5ed4><i class="bi bi-check-circle-fill" data-v-bafa5ed4></i> Building Supportive Communities</li></ul></div><div class="col-md-6" data-v-bafa5ed4><div class="mission-image" data-v-bafa5ed4><img src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?fit=crop&amp;w=800" alt="Healthcare Services" class="img-fluid rounded-3 shadow" data-v-bafa5ed4></div></div></div></div></section><section class="stats-section text-center" data-v-bafa5ed4><div class="container" data-v-bafa5ed4><div class="row g-4" data-v-bafa5ed4><div class="col-6 col-md-3" data-v-bafa5ed4><div class="stat-card" data-v-bafa5ed4><h3 class="stat-number" data-v-bafa5ed4>5000+</h3><p class="stat-label" data-v-bafa5ed4>Registered Users</p></div></div><div class="col-6 col-md-3" data-v-bafa5ed4><div class="stat-card" data-v-bafa5ed4><h3 class="stat-number" data-v-bafa5ed4>100+</h3><p class="stat-label" data-v-bafa5ed4>Partner Doctors</p></div></div><div class="col-6 col-md-3" data-v-bafa5ed4><div class="stat-card" data-v-bafa5ed4><h3 class="stat-number" data-v-bafa5ed4>10+</h3><p class="stat-label" data-v-bafa5ed4>Languages</p></div></div><div class="col-6 col-md-3" data-v-bafa5ed4><div class="stat-card" data-v-bafa5ed4><h3 class="stat-number" data-v-bafa5ed4>98%</h3><p class="stat-label" data-v-bafa5ed4>User Satisfaction</p></div></div></div></div></section>',2)),(0,l.Lk)("section",re,[(0,l.Lk)("div",ce,[(0,l.Lk)("div",de,[t[38]||(t[38]=(0,l.Fv)('<div class="col-md-6" data-v-bafa5ed4><h2 class="section-title" data-v-bafa5ed4>Get in Touch</h2><p class="contact-text" data-v-bafa5ed4> Have questions about our services? Need help with an appointment? We&#39;re here to help! Send us a message and we&#39;ll get back to you as soon as possible. </p><div class="contact-info" data-v-bafa5ed4><div class="contact-item" data-v-bafa5ed4><i class="bi bi-envelope-fill text-primary" data-v-bafa5ed4></i><span data-v-bafa5ed4>info@healthypathway.com</span></div><div class="contact-item" data-v-bafa5ed4><i class="bi bi-telephone-fill text-primary" data-v-bafa5ed4></i><span data-v-bafa5ed4>+1 (555) 123-4567</span></div><div class="contact-item" data-v-bafa5ed4><i class="bi bi-clock-fill text-primary" data-v-bafa5ed4></i><span data-v-bafa5ed4>Mon-Fri: 8:00 AM - 6:00 PM</span></div></div></div>',1)),(0,l.Lk)("div",ue,[(0,l.Lk)("div",me,[t[36]||(t[36]=(0,l.Lk)("h5",{class:"mb-4"},"Send us a Message",-1)),(0,l.bF)(o,{to:"/contact",class:"btn btn-primary btn-lg"},{default:(0,l.k6)(()=>t[35]||(t[35]=[(0,l.Lk)("i",{class:"bi bi-chat-dots me-2"},null,-1),(0,l.eW)(" Contact Us ",-1)])),_:1,__:[35]}),t[37]||(t[37]=(0,l.Lk)("p",{class:"mt-3 text-muted"},[(0,l.Lk)("small",null,"Get email confirmations with PDF attachments for appointments")],-1))])])])])])])}const ve={name:"Home"},pe=(0,_.A)(ve,[["render",he],["__scopeId","data-v-bafa5ed4"]]),ge=pe,ke={class:"login-page"},be={class:"login-container"},fe={key:0,class:"alert alert-danger"},Le={class:"form-group mb-3"},ye=["disabled"],Ce={class:"form-group mb-4"},we=["disabled"],_e=["disabled"],xe={class:"text-center"};function Fe(e,t,a,i,o,r){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",ke,[(0,l.Lk)("div",be,[t[7]||(t[7]=(0,l.Lk)("h2",{class:"text-center mb-4"},"Welcome Back",-1)),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)((...e)=>r.handleLogin&&r.handleLogin(...e),["prevent"])),class:"login-form"},[i.authStore.error?((0,l.uX)(),(0,l.CE)("div",fe,(0,n.v_)(i.authStore.error),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",Le,[t[3]||(t[3]=(0,l.Lk)("label",{for:"email"},"Email",-1)),(0,l.bo)((0,l.Lk)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),type:"email",class:"form-control",placeholder:"Enter your email",required:"",disabled:i.authStore.loading},null,8,ye),[[s.Jo,o.email]])]),(0,l.Lk)("div",Ce,[t[4]||(t[4]=(0,l.Lk)("label",{for:"password"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),type:"password",class:"form-control",placeholder:"Enter your password",required:"",disabled:i.authStore.loading},null,8,we),[[s.Jo,o.password]])]),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:i.authStore.loading},(0,n.v_)(i.authStore.loading?"Logging in...":"Login"),9,_e),(0,l.Lk)("p",xe,[t[6]||(t[6]=(0,l.eW)(" Don't have an account? ",-1)),(0,l.bF)(c,{to:"/register"},{default:(0,l.k6)(()=>t[5]||(t[5]=[(0,l.eW)("Register here",-1)])),_:1,__:[5]})])],32)])])}const Pe={setup(){const e=(0,r.rd)(),t=(0,r.lq)(),a=(0,c.n)();return{router:e,route:t,authStore:a}},data(){return{email:"",password:""}},methods:{async handleLogin(){if(this.email&&this.password){console.log("尝试Firebase登录:",this.email);try{const e=await this.authStore.login(this.email,this.password);console.log("Firebase登录成功，用户:",e);const t=this.$route.query.redirect||"/dashboard";console.log("准备重定向到:",t),await this.$router.push(t),console.log("重定向完成")}catch(e){console.error("登录失败:",e),alert("登录失败，请检查您的邮箱和密码")}}else alert("请输入邮箱和密码")}}},Ae=(0,_.A)(Pe,[["render",Fe]]),Se=Ae;var Ee=a(7496),Me=a(1884),Re=a(3556);const De={class:"container mt-5"},Te={key:0,class:"alert alert-danger"},Ie={class:"mb-3"},We={key:0,class:"text-danger"},He={class:"mb-3"},Ve={key:0,class:"text-danger"},Xe={class:"mb-3"},$e=["type"],Oe={class:"progress"},je={class:"form-check mt-1"},Ne={key:0,class:"text-danger"},qe={class:"mb-3"},Ue=["type"],Ke={class:"form-check mt-1"},Be={key:0,class:"text-danger"},ze={class:"mb-3"},Qe={key:0,class:"text-danger"},Je={class:"mb-3"},Ge={class:"mb-3"},Ze=["disabled"],Ye={__name:"Register",setup(e){const t=(0,r.rd)(),a=(0,c.n)(),o=(0,i.KR)(""),d=(0,i.KR)(""),u=(0,i.KR)(""),m=(0,i.KR)(""),h=(0,i.KR)(""),v=(0,i.KR)(""),p=(0,i.KR)(""),g=(0,i.KR)(!1),k=(0,i.KR)(!1),b=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),f=e=>/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/[0-9]/.test(e)&&e.length>=8,L=(0,l.EW)(()=>{let e=0;return u.value.length>=8&&(e+=25),/[A-Z]/.test(u.value)&&(e+=25),/[a-z]/.test(u.value)&&(e+=25),/[0-9]/.test(u.value)&&(e+=25),e}),y=(0,l.EW)(()=>{const e=L.value;return e<=25?"Weak":e<=50?"Medium":e<=75?"Strong":"Very Strong"}),C=(0,l.EW)(()=>{const e=L.value;return e<=25?"bg-danger":e<=50?"bg-warning":e<=75?"bg-info":"bg-success"}),w=async()=>{if(!o.value||o.value.length<3)alert("请输入有效的姓名（至少3个字符）");else if(b(d.value))if(f(u.value))if(u.value===m.value)if(h.value<1||h.value>100)alert("年龄必须在1到100岁之间");else if(v.value)try{const e=await a.register(d.value,u.value),s=e;await(0,Ee.r7)(s,{displayName:o.value}),await(0,Me.BN)((0,Me.H9)(Re.db,"users",s.uid),{name:o.value,email:d.value,age:parseInt(h.value),role:v.value,language:p.value||"en",registeredAt:(new Date).toISOString()}),alert("注册成功！"),t.push("/dashboard")}catch(e){console.error("Registration failed:",e)}else alert("请选择用户角色");else alert("两次输入的密码不一致");else alert("密码强度不够，请确保包含大小写字母和数字，且长度至少为8位");else alert("请输入有效的邮箱地址")};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",De,[t[19]||(t[19]=(0,l.Lk)("h2",{class:"mb-4"},"Register for Healthy Pathway",-1)),(0,l.Lk)("form",{onSubmit:(0,s.D$)(w,["prevent"])},[(0,i.R1)(a).error?((0,l.uX)(),(0,l.CE)("div",Te,(0,n.v_)((0,i.R1)(a).error),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",Ie,[t[9]||(t[9]=(0,l.Lk)("label",{for:"name",class:"form-label"},"Full Name",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),required:""},null,512),[[s.Jo,o.value]]),o.value.length>0&&o.value.length<3?((0,l.uX)(),(0,l.CE)("div",We,"Name must be at least 3 characters")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",He,[t[10]||(t[10]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",id:"email",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),required:""},null,512),[[s.Jo,d.value]]),d.value&&!b(d.value)?((0,l.uX)(),(0,l.CE)("div",Ve,"Please enter a valid email address")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Xe,[t[12]||(t[12]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{type:g.value?"text":"password",id:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>u.value=e),required:""},null,8,$e),[[s.hp,u.value]]),(0,l.Lk)("div",Oe,[(0,l.Lk)("div",{class:(0,n.C4)(["progress-bar",C.value]),role:"progressbar",style:(0,n.Tr)({width:L.value+"%"})},(0,n.v_)(y.value),7)]),(0,l.Lk)("div",je,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",id:"showPassword","onUpdate:modelValue":t[3]||(t[3]=e=>g.value=e)},null,512),[[s.lH,g.value]]),t[11]||(t[11]=(0,l.Lk)("label",{class:"form-check-label",for:"showPassword"},"Show Password",-1))]),u.value&&!f(u.value)?((0,l.uX)(),(0,l.CE)("div",Ne," Password must contain uppercase, lowercase, number, and be at least 8 characters ")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",qe,[t[14]||(t[14]=(0,l.Lk)("label",{for:"confirmPassword",class:"form-label"},"Confirm Password",-1)),(0,l.bo)((0,l.Lk)("input",{type:k.value?"text":"password",id:"confirmPassword",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>m.value=e),required:""},null,8,Ue),[[s.hp,m.value]]),(0,l.Lk)("div",Ke,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",id:"showConfirm","onUpdate:modelValue":t[5]||(t[5]=e=>k.value=e)},null,512),[[s.lH,k.value]]),t[13]||(t[13]=(0,l.Lk)("label",{class:"form-check-label",for:"showConfirm"},"Show",-1))]),m.value&&m.value!==u.value?((0,l.uX)(),(0,l.CE)("div",Be,"Passwords do not match")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ze,[t[15]||(t[15]=(0,l.Lk)("label",{for:"age",class:"form-label"},"Age",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",id:"age",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>h.value=e),required:""},null,512),[[s.Jo,h.value]]),h.value&&(h.value<1||h.value>100)?((0,l.uX)(),(0,l.CE)("div",Qe,"Age must be between 1 and 100")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Je,[t[17]||(t[17]=(0,l.Lk)("label",{for:"role",class:"form-label"},"Role",-1)),(0,l.bo)((0,l.Lk)("select",{id:"role",class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>v.value=e),required:""},t[16]||(t[16]=[(0,l.Lk)("option",{value:""},"Select role",-1),(0,l.Lk)("option",{value:"user"},"User",-1),(0,l.Lk)("option",{value:"admin"},"Admin",-1)]),512),[[s.u1,v.value]])]),(0,l.Lk)("div",Ge,[t[18]||(t[18]=(0,l.Lk)("label",{for:"language",class:"form-label"},"Preferred Language (Optional)",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"language",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>p.value=e)},null,512),[[s.Jo,p.value]])]),(0,l.Lk)("button",{class:"btn btn-primary",type:"submit",disabled:(0,i.R1)(a).loading},(0,n.v_)((0,i.R1)(a).loading?"Registering...":"Register"),9,Ze)],32)]))}},et=(0,_.A)(Ye,[["__scopeId","data-v-09841d09"]]),tt=et,at={class:"dashboard"},st={class:"container py-5"},lt={class:"row g-4"},it={class:"col-md-6 col-lg-3"},nt={class:"col-md-6 col-lg-3"},ot={class:"col-md-6 col-lg-3"},rt={class:"col-md-6 col-lg-3"},ct={class:"row g-4 mt-4"},dt={class:"col-md-6 col-lg-3"},ut={key:0,class:"mt-5"},mt={class:"card admin-card"},ht={class:"card-body"},vt={class:"row mt-4"},pt={class:"col-md-6"},gt={class:"col-md-6"};function kt(e,t,a,s,i,n){const o=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",at,[(0,l.Lk)("div",st,[t[8]||(t[8]=(0,l.Lk)("h1",{class:"text-center mb-5"},"Welcome to HealthyPathway",-1)),(0,l.Lk)("div",lt,[(0,l.Lk)("div",it,[(0,l.bF)(o,{to:"/doctor-rating",class:"text-decoration-none"},{default:(0,l.k6)(()=>t[0]||(t[0]=[(0,l.Lk)("div",{class:"card h-100 feature-card"},[(0,l.Lk)("div",{class:"card-body text-center"},[(0,l.Lk)("i",{class:"bi bi-person-badge fs-1 mb-3"}),(0,l.Lk)("h3",{class:"card-title"},"Find a Doctor"),(0,l.Lk)("p",{class:"card-text"},"Search for GPs who speak your language and accept new patients")])],-1)])),_:1,__:[0]})]),(0,l.Lk)("div",nt,[(0,l.bF)(o,{to:"/health-articles",class:"text-decoration-none"},{default:(0,l.k6)(()=>t[1]||(t[1]=[(0,l.Lk)("div",{class:"card h-100 feature-card"},[(0,l.Lk)("div",{class:"card-body text-center"},[(0,l.Lk)("i",{class:"bi bi-translate fs-1 mb-3"}),(0,l.Lk)("h3",{class:"card-title"},"Multilingual Resources"),(0,l.Lk)("p",{class:"card-text"},"Access health information in multiple languages")])],-1)])),_:1,__:[1]})]),(0,l.Lk)("div",ot,[(0,l.bF)(o,{to:"/consultation",class:"text-decoration-none"},{default:(0,l.k6)(()=>t[2]||(t[2]=[(0,l.Lk)("div",{class:"card h-100 feature-card"},[(0,l.Lk)("div",{class:"card-body text-center"},[(0,l.Lk)("i",{class:"bi bi-chat-dots fs-1 mb-3"}),(0,l.Lk)("h3",{class:"card-title"},"Health Consultation"),(0,l.Lk)("p",{class:"card-text"},"Get professional health advice and consultation")])],-1)])),_:1,__:[2]})]),(0,l.Lk)("div",rt,[(0,l.bF)(o,{to:"/health-map",class:"text-decoration-none"},{default:(0,l.k6)(()=>t[3]||(t[3]=[(0,l.Lk)("div",{class:"card h-100 feature-card"},[(0,l.Lk)("div",{class:"card-body text-center"},[(0,l.Lk)("i",{class:"bi bi-geo-alt fs-1 mb-3"}),(0,l.Lk)("h3",{class:"card-title"},"Health Facilities Map"),(0,l.Lk)("p",{class:"card-text"},"Find nearby medical facilities with navigation")])],-1)])),_:1,__:[3]})])]),(0,l.Lk)("div",ct,[(0,l.Lk)("div",dt,[(0,l.bF)(o,{to:"/home",class:"text-decoration-none"},{default:(0,l.k6)(()=>t[4]||(t[4]=[(0,l.Lk)("div",{class:"card h-100 feature-card"},[(0,l.Lk)("div",{class:"card-body text-center"},[(0,l.Lk)("i",{class:"bi bi-house fs-1 mb-3"}),(0,l.Lk)("h3",{class:"card-title"},"Home"),(0,l.Lk)("p",{class:"card-text"},"Return to homepage and explore more features")])],-1)])),_:1,__:[4]})])]),"admin"===i.userRole?((0,l.uX)(),(0,l.CE)("div",ut,[(0,l.Lk)("div",mt,[(0,l.Lk)("div",ht,[t[7]||(t[7]=(0,l.Lk)("h3",{class:"card-title"},[(0,l.Lk)("i",{class:"bi bi-shield-lock me-2"}),(0,l.eW)(" Admin Controls ")],-1)),(0,l.Lk)("div",vt,[(0,l.Lk)("div",pt,[(0,l.bF)(o,{to:"/admin/resources",class:"btn btn-primary w-100 mb-3"},{default:(0,l.k6)(()=>t[5]||(t[5]=[(0,l.eW)(" Manage Resources ",-1)])),_:1,__:[5]})]),(0,l.Lk)("div",gt,[(0,l.bF)(o,{to:"/admin/ratings",class:"btn btn-primary w-100 mb-3"},{default:(0,l.k6)(()=>t[6]||(t[6]=[(0,l.eW)(" View Ratings Overview ",-1)])),_:1,__:[6]})])])])])])):(0,l.Q3)("",!0)])])}const bt={data(){return{userRole:""}},mounted(){const e=JSON.parse(localStorage.getItem("userInfo"));e&&e.role?this.userRole=e.role:this.$router.push("/login")}},ft=(0,_.A)(bt,[["render",kt],["__scopeId","data-v-6cc07fc5"]]),Lt=ft,yt={class:"health-articles"},Ct={class:"container-fluid"},wt={class:"nav nav-tabs mb-4",role:"tablist"},_t={class:"nav-item",role:"presentation"},xt={class:"nav-item",role:"presentation"},Ft={class:"tab-content"},Pt={class:"tab-pane fade show active",id:"articles",role:"tabpanel"},At={class:"card"},St={class:"card-header d-flex justify-content-between align-items-center"},Et={class:"btn-group"},Mt={class:"card-body pb-0"},Rt={class:"row g-3 mb-3"},Dt={class:"col-md-3"},Tt={class:"col-md-2"},It={class:"col-md-2"},Wt=["value"],Ht={class:"col-md-2"},Vt={class:"col-md-2"},Xt={class:"col-md-1 d-flex align-items-end"},$t={class:"table-responsive"},Ot={class:"table table-hover mb-0"},jt={class:"fw-bold"},Nt={class:"text-muted"},qt={class:"badge bg-primary"},Ut={class:"badge bg-info"},Kt={class:"card-footer d-flex justify-content-between align-items-center"},Bt={class:"text-muted"},zt={class:"pagination pagination-sm mb-0"},Qt=["disabled"],Jt=["disabled"],Gt=["onClick"],Zt=["disabled"],Yt=["disabled"],ea={class:"tab-pane fade",id:"comments",role:"tabpanel"},ta={class:"card"},aa={class:"card-header d-flex justify-content-between align-items-center"},sa={class:"btn-group"},la={class:"card-body pb-0"},ia={class:"row g-3 mb-3"},na={class:"col-md-3"},oa={class:"col-md-4"},ra={class:"col-md-2"},ca={class:"col-md-2"},da={class:"col-md-1 d-flex align-items-end"},ua={class:"table-responsive"},ma={class:"table table-hover mb-0"},ha={class:"d-flex align-items-center"},va=["src"],pa={class:"fw-bold"},ga={class:"text-muted"},ka={class:"text-muted"},ba={class:"badge bg-warning"},fa={class:"btn-group btn-group-sm"},La=["onClick"],ya=["onClick"],Ca={class:"card-footer d-flex justify-content-between align-items-center"},wa={class:"text-muted"},_a={class:"pagination pagination-sm mb-0"},xa=["disabled"],Fa=["disabled"],Pa=["onClick"],Aa=["disabled"],Sa=["disabled"];function Ea(e,t,a,i,o,r){return(0,l.uX)(),(0,l.CE)("div",yt,[(0,l.Lk)("div",Ct,[t[54]||(t[54]=(0,l.Lk)("h1",{class:"text-center mb-4"},"Health Articles Management System",-1)),(0,l.Lk)("ul",wt,[(0,l.Lk)("li",_t,[(0,l.Lk)("button",{class:"nav-link active",id:"articles-tab","data-bs-toggle":"tab","data-bs-target":"#articles",type:"button",role:"tab",onClick:t[0]||(t[0]=e=>o.currentTab="articles")},[t[25]||(t[25]=(0,l.Lk)("i",{class:"fas fa-newspaper me-2"},null,-1)),(0,l.eW)(" Articles Management ("+(0,n.v_)(r.filteredArticles.length)+") ",1)])]),(0,l.Lk)("li",xt,[(0,l.Lk)("button",{class:"nav-link",id:"comments-tab","data-bs-toggle":"tab","data-bs-target":"#comments",type:"button",role:"tab",onClick:t[1]||(t[1]=e=>o.currentTab="comments")},[t[26]||(t[26]=(0,l.Lk)("i",{class:"fas fa-comments me-2"},null,-1)),(0,l.eW)(" Comments Management ("+(0,n.v_)(r.filteredComments.length)+") ",1)])])]),(0,l.Lk)("div",Ft,[(0,l.Lk)("div",Pt,[(0,l.Lk)("div",At,[(0,l.Lk)("div",St,[t[29]||(t[29]=(0,l.Lk)("h5",{class:"mb-0"},"Articles List",-1)),(0,l.Lk)("div",Et,[(0,l.Lk)("button",{class:"btn btn-success btn-sm",onClick:t[2]||(t[2]=(...e)=>r.exportArticlesCSV&&r.exportArticlesCSV(...e))},t[27]||(t[27]=[(0,l.Lk)("i",{class:"fas fa-file-csv me-1"},null,-1),(0,l.eW)("Export CSV ",-1)])),(0,l.Lk)("button",{class:"btn btn-danger btn-sm",onClick:t[3]||(t[3]=(...e)=>r.exportArticlesPDF&&r.exportArticlesPDF(...e))},t[28]||(t[28]=[(0,l.Lk)("i",{class:"fas fa-file-pdf me-1"},null,-1),(0,l.eW)("Export PDF ",-1)]))])]),(0,l.Lk)("div",Mt,[(0,l.Lk)("div",Rt,[(0,l.Lk)("div",Dt,[t[30]||(t[30]=(0,l.Lk)("label",{class:"form-label small"},"Search by Title",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[4]||(t[4]=e=>o.articleFilters.title=e),placeholder:"Search title..."},null,512),[[s.Jo,o.articleFilters.title]])]),(0,l.Lk)("div",Tt,[t[31]||(t[31]=(0,l.Lk)("label",{class:"form-label small"},"Search by Author",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[5]||(t[5]=e=>o.articleFilters.author=e),placeholder:"Search author..."},null,512),[[s.Jo,o.articleFilters.author]])]),(0,l.Lk)("div",It,[t[33]||(t[33]=(0,l.Lk)("label",{class:"form-label small"},"Filter by Category",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[6]||(t[6]=e=>o.articleFilters.category=e)},[t[32]||(t[32]=(0,l.Lk)("option",{value:""},"All Categories",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.categories,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Wt))),128))],512),[[s.u1,o.articleFilters.category]])]),(0,l.Lk)("div",Ht,[t[35]||(t[35]=(0,l.Lk)("label",{class:"form-label small"},"Sort By",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[7]||(t[7]=e=>o.articleSortBy=e)},t[34]||(t[34]=[(0,l.Fv)('<option value="date_desc" data-v-03007e8c>Date ↓</option><option value="date_asc" data-v-03007e8c>Date ↑</option><option value="views_desc" data-v-03007e8c>Views ↓</option><option value="views_asc" data-v-03007e8c>Views ↑</option><option value="title_asc" data-v-03007e8c>Title A-Z</option><option value="title_desc" data-v-03007e8c>Title Z-A</option>',6)]),512),[[s.u1,o.articleSortBy]])]),(0,l.Lk)("div",Vt,[t[37]||(t[37]=(0,l.Lk)("label",{class:"form-label small"},"Per Page",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[8]||(t[8]=e=>o.articlesPerPage=e)},t[36]||(t[36]=[(0,l.Lk)("option",{value:"10"},"10 per page",-1),(0,l.Lk)("option",{value:"20"},"20 per page",-1),(0,l.Lk)("option",{value:"50"},"50 per page",-1)]),512),[[s.u1,o.articlesPerPage]])]),(0,l.Lk)("div",Xt,[(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[9]||(t[9]=(...e)=>r.clearArticleFilters&&r.clearArticleFilters(...e))},t[38]||(t[38]=[(0,l.Lk)("i",{class:"fas fa-times"},null,-1)]))])])]),(0,l.Lk)("div",$t,[(0,l.Lk)("table",Ot,[t[39]||(t[39]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{style:{width:"40%"}},"Title"),(0,l.Lk)("th",{style:{width:"15%"}},"Author"),(0,l.Lk)("th",{style:{width:"10%"}},"Category"),(0,l.Lk)("th",{style:{width:"12%"}},"Published Date"),(0,l.Lk)("th",{style:{width:"8%"}},"Views"),(0,l.Lk)("th",{style:{width:"15%"}},"Tags")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.paginatedArticles,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("div",jt,(0,n.v_)(e.title),1),(0,l.Lk)("small",Nt,(0,n.v_)(r.truncateText(e.summary,60)),1)]),(0,l.Lk)("td",null,(0,n.v_)(e.author),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",qt,(0,n.v_)(e.category),1)]),(0,l.Lk)("td",null,(0,n.v_)(r.formatDate(e.date)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",Ut,(0,n.v_)(e.views.toLocaleString()),1)]),(0,l.Lk)("td",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.tags,e=>((0,l.uX)(),(0,l.CE)("span",{key:e,class:"badge bg-secondary me-1"},(0,n.v_)(e),1))),128))])]))),128))])])]),(0,l.Lk)("div",Kt,[(0,l.Lk)("span",Bt," Showing "+(0,n.v_)((o.currentArticlePage-1)*o.articlesPerPage+1)+" - "+(0,n.v_)(Math.min(o.currentArticlePage*o.articlesPerPage,r.filteredArticles.length))+" of "+(0,n.v_)(r.filteredArticles.length)+" entries ",1),(0,l.Lk)("nav",null,[(0,l.Lk)("ul",zt,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentArticlePage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[10]||(t[10]=e=>o.currentArticlePage=1),disabled:1===o.currentArticlePage}," First ",8,Qt)],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentArticlePage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[11]||(t[11]=e=>o.currentArticlePage--),disabled:1===o.currentArticlePage}," Previous ",8,Jt)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.articlePageNumbers,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===o.currentArticlePage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t=>o.currentArticlePage=e},(0,n.v_)(e),9,Gt)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentArticlePage===r.totalArticlePages}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[12]||(t[12]=e=>o.currentArticlePage++),disabled:o.currentArticlePage===r.totalArticlePages}," Next ",8,Zt)],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentArticlePage===r.totalArticlePages}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[13]||(t[13]=e=>o.currentArticlePage=r.totalArticlePages),disabled:o.currentArticlePage===r.totalArticlePages}," Last ",8,Yt)],2)])])])])]),(0,l.Lk)("div",ea,[(0,l.Lk)("div",ta,[(0,l.Lk)("div",aa,[t[42]||(t[42]=(0,l.Lk)("h5",{class:"mb-0"},"Comments Management",-1)),(0,l.Lk)("div",sa,[(0,l.Lk)("button",{class:"btn btn-success btn-sm",onClick:t[14]||(t[14]=(...e)=>r.exportCommentsCSV&&r.exportCommentsCSV(...e))},t[40]||(t[40]=[(0,l.Lk)("i",{class:"fas fa-file-csv me-1"},null,-1),(0,l.eW)("Export CSV ",-1)])),(0,l.Lk)("button",{class:"btn btn-danger btn-sm",onClick:t[15]||(t[15]=(...e)=>r.exportCommentsPDF&&r.exportCommentsPDF(...e))},t[41]||(t[41]=[(0,l.Lk)("i",{class:"fas fa-file-pdf me-1"},null,-1),(0,l.eW)("Export PDF ",-1)]))])]),(0,l.Lk)("div",la,[(0,l.Lk)("div",ia,[(0,l.Lk)("div",na,[t[43]||(t[43]=(0,l.Lk)("label",{class:"form-label small"},"Search by Commenter",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[16]||(t[16]=e=>o.commentFilters.commenter=e),placeholder:"Search commenter..."},null,512),[[s.Jo,o.commentFilters.commenter]])]),(0,l.Lk)("div",oa,[t[44]||(t[44]=(0,l.Lk)("label",{class:"form-label small"},"Search by Content",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[17]||(t[17]=e=>o.commentFilters.content=e),placeholder:"Search comment content..."},null,512),[[s.Jo,o.commentFilters.content]])]),(0,l.Lk)("div",ra,[t[46]||(t[46]=(0,l.Lk)("label",{class:"form-label small"},"Sort By",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[18]||(t[18]=e=>o.commentSortBy=e)},t[45]||(t[45]=[(0,l.Lk)("option",{value:"date_desc"},"Time ↓",-1),(0,l.Lk)("option",{value:"date_asc"},"Time ↑",-1),(0,l.Lk)("option",{value:"likes_desc"},"Likes ↓",-1),(0,l.Lk)("option",{value:"likes_asc"},"Likes ↑",-1)]),512),[[s.u1,o.commentSortBy]])]),(0,l.Lk)("div",ca,[t[48]||(t[48]=(0,l.Lk)("label",{class:"form-label small"},"Per Page",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[19]||(t[19]=e=>o.commentsPerPage=e)},t[47]||(t[47]=[(0,l.Lk)("option",{value:"10"},"10 per page",-1),(0,l.Lk)("option",{value:"20"},"20 per page",-1),(0,l.Lk)("option",{value:"50"},"50 per page",-1)]),512),[[s.u1,o.commentsPerPage]])]),(0,l.Lk)("div",da,[(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[20]||(t[20]=(...e)=>r.clearCommentFilters&&r.clearCommentFilters(...e))},t[49]||(t[49]=[(0,l.Lk)("i",{class:"fas fa-times"},null,-1)]))])])]),(0,l.Lk)("div",ua,[(0,l.Lk)("table",ma,[t[53]||(t[53]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{style:{width:"15%"}},"Commenter"),(0,l.Lk)("th",{style:{width:"50%"}},"Comment Content"),(0,l.Lk)("th",{style:{width:"15%"}},"Comment Time"),(0,l.Lk)("th",{style:{width:"10%"}},"Likes"),(0,l.Lk)("th",{style:{width:"10%"}},"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.paginatedComments,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("div",ha,[(0,l.Lk)("img",{src:e.avatar,class:"rounded-circle me-2",width:"32",height:"32"},null,8,va),(0,l.Lk)("div",null,[(0,l.Lk)("div",pa,(0,n.v_)(e.commenter),1),(0,l.Lk)("small",ga,(0,n.v_)(e.email),1)])])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",null,(0,n.v_)(r.truncateText(e.content,120)),1),(0,l.Lk)("small",ka,"Article: "+(0,n.v_)(e.articleTitle),1)]),(0,l.Lk)("td",null,(0,n.v_)(r.formatDateTime(e.date)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",ba,[t[50]||(t[50]=(0,l.Lk)("i",{class:"fas fa-thumbs-up me-1"},null,-1)),(0,l.eW)((0,n.v_)(e.likes),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",fa,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:t=>r.viewComment(e)},t[51]||(t[51]=[(0,l.Lk)("i",{class:"fas fa-eye"},null,-1)]),8,La),(0,l.Lk)("button",{class:"btn btn-outline-danger",onClick:t=>r.deleteComment(e.id)},t[52]||(t[52]=[(0,l.Lk)("i",{class:"fas fa-trash"},null,-1)]),8,ya)])])]))),128))])])]),(0,l.Lk)("div",Ca,[(0,l.Lk)("span",wa," Showing "+(0,n.v_)((o.currentCommentPage-1)*o.commentsPerPage+1)+" - "+(0,n.v_)(Math.min(o.currentCommentPage*o.commentsPerPage,r.filteredComments.length))+" of "+(0,n.v_)(r.filteredComments.length)+" entries ",1),(0,l.Lk)("nav",null,[(0,l.Lk)("ul",_a,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentCommentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[21]||(t[21]=e=>o.currentCommentPage=1),disabled:1===o.currentCommentPage}," First ",8,xa)],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentCommentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[22]||(t[22]=e=>o.currentCommentPage--),disabled:1===o.currentCommentPage}," Previous ",8,Fa)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.commentPageNumbers,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===o.currentCommentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t=>o.currentCommentPage=e},(0,n.v_)(e),9,Pa)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentCommentPage===r.totalCommentPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[23]||(t[23]=e=>o.currentCommentPage++),disabled:o.currentCommentPage===r.totalCommentPages}," Next ",8,Aa)],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentCommentPage===r.totalCommentPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[24]||(t[24]=e=>o.currentCommentPage=r.totalCommentPages),disabled:o.currentCommentPage===r.totalCommentPages}," Last ",8,Sa)],2)])])])])])])])])}a(4323);const Ma={name:"HealthArticles",data(){return{currentTab:"articles",articles:[{id:1,title:"How to Maintain a Healthy Lifestyle",author:"Dr. Li",category:"Healthy Living",date:"2024-01-15",views:1250,tags:["Health","Lifestyle","Prevention"],summary:"This article introduces the basic principles of maintaining a healthy lifestyle, including balanced diet, regular exercise, adequate sleep and other important factors."},{id:2,title:"Prevention and Treatment of Cardiovascular Disease",author:"Dr. Wang",category:"Cardiovascular",date:"2024-01-10",views:980,tags:["Cardiovascular","Prevention","Treatment"],summary:"Cardiovascular disease is a common health problem for modern people. This article details prevention measures and treatment methods."},{id:3,title:"Dietary Guidelines for Diabetic Patients",author:"Dr. Zhang",category:"Diabetes",date:"2024-01-08",views:2100,tags:["Diabetes","Diet","Management"],summary:"Provides scientific dietary advice for diabetic patients to help control blood sugar levels."},{id:4,title:"Childhood Vaccination Schedule",author:"Dr. Chen",category:"Pediatrics",date:"2024-01-05",views:1560,tags:["Pediatrics","Vaccines","Prevention"],summary:"Detailed childhood vaccination schedule and precautions."},{id:5,title:"Prevention of Osteoporosis in the Elderly",author:"Dr. Liu",category:"Geriatrics",date:"2024-01-03",views:890,tags:["Elderly","Osteoporosis","Prevention"],summary:"Osteoporosis prevention measures and treatment recommendations for elderly populations."},{id:6,title:"Nutritional Supplements During Pregnancy",author:"Dr. Zhao",category:"Obstetrics & Gynecology",date:"2024-01-01",views:1780,tags:["Pregnancy","Nutrition","Health"],summary:"Provides scientific pregnancy nutrition supplement recommendations for expectant mothers."},{id:7,title:"Identification and Treatment of Common Skin Diseases",author:"Dr. Sun",category:"Dermatology",date:"2023-12-28",views:1340,tags:["Skin Disease","Treatment","Identification"],summary:"Introduces symptom identification and treatment methods for common skin diseases."},{id:8,title:"The Importance of Mental Health",author:"Dr. Zhou",category:"Psychiatry",date:"2023-12-25",views:720,tags:["Mental Health","Psychology","Stress"],summary:"Explores the importance of mental health for overall health and maintenance methods."},{id:9,title:"Eye Health Protection Guide",author:"Dr. Wu",category:"Ophthalmology",date:"2023-12-22",views:1120,tags:["Ophthalmology","Vision","Protection"],summary:"How to protect eye health and prevent common eye diseases."},{id:10,title:"Prevention and Rehabilitation of Sports Injuries",author:"Dr. Zheng",category:"Sports Medicine",date:"2023-12-20",views:1650,tags:["Sports","Injury","Rehabilitation"],summary:"Essential injury prevention and rehabilitation guide for sports enthusiasts."},{id:11,title:"Respiratory Disease Protection",author:"Dr. Ma",category:"Respiratory Medicine",date:"2023-12-18",views:950,tags:["Respiratory","Disease","Protection"],summary:"Prevention measures and daily care methods for respiratory diseases."},{id:12,title:"The Importance of Healthy Sleep",author:"Dr. Lin",category:"Sleep Medicine",date:"2023-12-15",views:2300,tags:["Sleep","Health","Quality"],summary:"The importance of good sleep for health and methods to improve sleep quality."}],comments:[{id:1,commenter:"John Smith",email:"john.smith@email.com",avatar:"https://via.placeholder.com/32x32/007bff/ffffff?text=JS",content:"This article is very well written and very helpful to me. The dietary advice is particularly practical.",articleTitle:"How to Maintain a Healthy Lifestyle",date:"2024-01-16T10:30:00",likes:15},{id:2,commenter:"Lisa Wang",email:"lisa.wang@email.com",avatar:"https://via.placeholder.com/32x32/28a745/ffffff?text=LW",content:"The doctor's advice is very professional. I adjusted my routine according to the article's methods and felt a significant improvement in my physical condition.",articleTitle:"Prevention and Treatment of Cardiovascular Disease",date:"2024-01-15T14:20:00",likes:23},{id:3,commenter:"Mike Brown",email:"mike.brown@email.com",avatar:"https://via.placeholder.com/32x32/dc3545/ffffff?text=MB",content:"As a diabetic patient, this dietary guide is too important for me. I have bookmarked it and will strictly follow it.",articleTitle:"Dietary Guidelines for Diabetic Patients",date:"2024-01-14T09:15:00",likes:31},{id:4,commenter:"Sarah Johnson",email:"sarah.johnson@email.com",avatar:"https://via.placeholder.com/32x32/ffc107/ffffff?text=SJ",content:"The childhood vaccination schedule is very detailed. As a new mother, this information is so useful. Thank you for sharing!",articleTitle:"Childhood Vaccination Schedule",date:"2024-01-13T16:45:00",likes:18},{id:5,commenter:"David Lee",email:"david.lee@email.com",avatar:"https://via.placeholder.com/32x32/6f42c1/ffffff?text=DL",content:"My mother is facing osteoporosis problems. The prevention methods provided in this article are very practical, I will recommend it to her.",articleTitle:"Prevention of Osteoporosis in the Elderly",date:"2024-01-12T11:30:00",likes:12},{id:6,commenter:"Nancy Chen",email:"nancy.chen@email.com",avatar:"https://via.placeholder.com/32x32/20c997/ffffff?text=NC",content:"Nutrition during pregnancy is indeed very important. This guide taught me a lot of knowledge I did not know before.",articleTitle:"Nutritional Supplements During Pregnancy",date:"2024-01-11T13:20:00",likes:27},{id:7,commenter:"Robert Wilson",email:"robert.wilson@email.com",avatar:"https://via.placeholder.com/32x32/fd7e14/ffffff?text=RW",content:"The skin disease identification pictures are very clear, and I can make a preliminary judgment of my condition, but I still need to go to the hospital for diagnosis.",articleTitle:"Identification and Treatment of Common Skin Diseases",date:"2024-01-10T08:45:00",likes:9},{id:8,commenter:"Emily Davis",email:"emily.davis@email.com",avatar:"https://via.placeholder.com/32x32/e83e8c/ffffff?text=ED",content:"Modern society is stressful, and mental health really needs attention. I will try the stress reduction methods mentioned in the article.",articleTitle:"The Importance of Mental Health",date:"2024-01-09T15:10:00",likes:21},{id:9,commenter:"Tom Anderson",email:"tom.anderson@email.com",avatar:"https://via.placeholder.com/32x32/6610f2/ffffff?text=TA",content:"Long-term computer use makes my eyes often dry. Following the article's advice to do eye exercises, there is indeed improvement.",articleTitle:"Eye Health Protection Guide",date:"2024-01-08T12:00:00",likes:14},{id:10,commenter:"Amy Taylor",email:"amy.taylor@email.com",avatar:"https://via.placeholder.com/32x32/198754/ffffff?text=AT",content:"A must-read for sports enthusiasts! I was injured during exercise before, and now I know how to prevent it properly.",articleTitle:"Prevention and Rehabilitation of Sports Injuries",date:"2024-01-07T17:30:00",likes:33},{id:11,commenter:"Chris Martinez",email:"chris.martinez@email.com",avatar:"https://via.placeholder.com/32x32/17a2b8/ffffff?text=CM",content:"The smog has been severe recently, and respiratory protection knowledge is very timely. The mask selection section is particularly useful.",articleTitle:"Respiratory Disease Protection",date:"2024-01-06T19:15:00",likes:19},{id:12,commenter:"Alex Robinson",email:"alex.robinson@email.com",avatar:"https://via.placeholder.com/32x32/343a40/ffffff?text=AR",content:"Insomnia has been bothering me for a long time. I will seriously implement the sleep hygiene habits mentioned in the article. Hope it can improve sleep quality.",articleTitle:"The Importance of Healthy Sleep",date:"2024-01-05T21:45:00",likes:26}],articleFilters:{title:"",author:"",category:""},commentFilters:{commenter:"",content:""},articleSortBy:"date_desc",commentSortBy:"date_desc",currentArticlePage:1,currentCommentPage:1,articlesPerPage:10,commentsPerPage:10}},computed:{categories(){return[...new Set(this.articles.map(e=>e.category))]},filteredArticles(){let e=this.articles.filter(e=>(!this.articleFilters.title||e.title.toLowerCase().includes(this.articleFilters.title.toLowerCase()))&&(!this.articleFilters.author||e.author.toLowerCase().includes(this.articleFilters.author.toLowerCase()))&&(!this.articleFilters.category||e.category===this.articleFilters.category));return this.sortArticles(e)},filteredComments(){let e=this.comments.filter(e=>(!this.commentFilters.commenter||e.commenter.toLowerCase().includes(this.commentFilters.commenter.toLowerCase()))&&(!this.commentFilters.content||e.content.toLowerCase().includes(this.commentFilters.content.toLowerCase())));return this.sortComments(e)},totalArticlePages(){return Math.ceil(this.filteredArticles.length/this.articlesPerPage)},paginatedArticles(){const e=(this.currentArticlePage-1)*this.articlesPerPage,t=e+parseInt(this.articlesPerPage);return this.filteredArticles.slice(e,t)},articlePageNumbers(){const e=[],t=this.totalArticlePages,a=this.currentArticlePage,s=Math.max(1,a-2),l=Math.min(t,a+2);for(let i=s;i<=l;i++)e.push(i);return e},totalCommentPages(){return Math.ceil(this.filteredComments.length/this.commentsPerPage)},paginatedComments(){const e=(this.currentCommentPage-1)*this.commentsPerPage,t=e+parseInt(this.commentsPerPage);return this.filteredComments.slice(e,t)},commentPageNumbers(){const e=[],t=this.totalCommentPages,a=this.currentCommentPage,s=Math.max(1,a-2),l=Math.min(t,a+2);for(let i=s;i<=l;i++)e.push(i);return e}},watch:{articleFilters:{handler(){this.currentArticlePage=1},deep:!0},commentFilters:{handler(){this.currentCommentPage=1},deep:!0},articleSortBy(){this.currentArticlePage=1},commentSortBy(){this.currentCommentPage=1}},methods:{sortArticles(e){const t=[...e];switch(this.articleSortBy){case"date_desc":return t.sort((e,t)=>new Date(t.date)-new Date(e.date));case"date_asc":return t.sort((e,t)=>new Date(e.date)-new Date(t.date));case"views_desc":return t.sort((e,t)=>t.views-e.views);case"views_asc":return t.sort((e,t)=>e.views-t.views);case"title_asc":return t.sort((e,t)=>e.title.localeCompare(t.title));case"title_desc":return t.sort((e,t)=>t.title.localeCompare(e.title));default:return t}},sortComments(e){const t=[...e];switch(this.commentSortBy){case"date_desc":return t.sort((e,t)=>new Date(t.date)-new Date(e.date));case"date_asc":return t.sort((e,t)=>new Date(e.date)-new Date(t.date));case"likes_desc":return t.sort((e,t)=>t.likes-e.likes);case"likes_asc":return t.sort((e,t)=>e.likes-t.likes);default:return t}},clearArticleFilters(){this.articleFilters={title:"",author:"",category:""}},clearCommentFilters(){this.commentFilters={commenter:"",content:""}},formatDate(e){const t=new Date(e);return t.toLocaleDateString("en-US")},formatDateTime(e){const t=new Date(e);return t.toLocaleString("en-US")},truncateText(e,t){return e.length>t?e.substring(0,t)+"...":e},exportArticlesCSV(){const e=["Title","Author","Category","Publish Date","Views","Tags"],t=[e.join(","),...this.filteredArticles.map(e=>[`"${e.title}"`,`"${e.author}"`,`"${e.category}"`,`"${e.date}"`,e.views,`"${e.tags.join(";")}"`].join(","))].join("\n");this.downloadCSV(t,"health-articles-list.csv")},exportCommentsCSV(){const e=["Commenter","Comment Content","Article Title","Comment Time","Likes"],t=[e.join(","),...this.filteredComments.map(e=>[`"${e.commenter}"`,`"${e.content}"`,`"${e.articleTitle}"`,`"${e.date}"`,e.likes].join(","))].join("\n");this.downloadCSV(t,"article-comments-list.csv")},downloadCSV(e,t){const a=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(void 0!==s.download){const e=URL.createObjectURL(a);s.setAttribute("href",e),s.setAttribute("download",t),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},exportArticlesPDF(){Promise.resolve().then(a.bind(a,4323)).then(({jsPDF:e})=>{const t=new e;t.setFont("helvetica"),t.setFontSize(18),t.text("Health Articles Report",20,20),t.setFontSize(12),t.text(`Total Articles: ${this.filteredArticles.length}`,20,35),t.text(`Generated: ${(new Date).toLocaleDateString()}`,20,45);let a=60;t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Title",20,a),t.text("Author",100,a),t.text("Category",140,a),t.text("Views",170,a),t.setFont("helvetica","normal"),this.filteredArticles.slice(0,30).forEach((e,s)=>{a+=10,a>270&&(t.addPage(),a=20);const l=this.encodeForPDF(this.truncateText(e.title,30)),i=this.encodeForPDF(e.author),n=this.encodeForPDF(e.category);t.text(l,20,a),t.text(i,100,a),t.text(n,140,a),t.text(e.views.toString(),170,a)}),t.save("health-articles-report.pdf")})},exportCommentsPDF(){Promise.resolve().then(a.bind(a,4323)).then(({jsPDF:e})=>{const t=new e;t.setFont("helvetica"),t.setFontSize(18),t.text("Comments Report",20,20),t.setFontSize(12),t.text(`Total Comments: ${this.filteredComments.length}`,20,35),t.text(`Generated: ${(new Date).toLocaleDateString()}`,20,45);let a=60;t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Commenter",20,a),t.text("Content",60,a),t.text("Likes",170,a),t.setFont("helvetica","normal"),this.filteredComments.slice(0,30).forEach((e,s)=>{a+=15,a>270&&(t.addPage(),a=20);const l=this.encodeForPDF(e.commenter),i=this.encodeForPDF(this.truncateText(e.content,40));t.text(l,20,a),t.text(i,60,a),t.text(e.likes.toString(),170,a)}),t.save("article-comments-report.pdf")})},encodeForPDF(e){return e.replace(/[\u4e00-\u9fff]/g,"?").replace(/[^\x00-\x7F]/g,"?")},viewComment(e){alert(`Comment Details:\n\nCommenter: ${e.commenter}\nContent: ${e.content}\nArticle: ${e.articleTitle}\nTime: ${this.formatDateTime(e.date)}`)},deleteComment(e){if(confirm("Are you sure you want to delete this comment?")){const t=this.comments.findIndex(t=>t.id===e);t>-1&&(this.comments.splice(t,1),alert("Comment has been deleted"))}}}},Ra=(0,_.A)(Ma,[["render",Ea],["__scopeId","data-v-03007e8c"]]),Da=Ra,Ta={class:"health-map"},Ia={class:"map-header"},Wa={class:"container-fluid"},Ha={class:"row align-items-center py-3"},Va={class:"col-auto"},Xa={class:"container-fluid h-100"},$a={class:"row h-100"},Oa={class:"col-lg-4 col-md-5 sidebar"},ja={class:"sidebar-content"},Na={class:"search-card"},qa={class:"card-body"},Ua={class:"mb-3"},Ka={class:"input-group"},Ba={class:"mb-3"},za={class:"mb-3"},Qa={class:"form-label"},Ja={class:"text-primary fw-bold"},Ga={key:0,class:"results-card mt-4"},Za={class:"card-header d-flex justify-content-between align-items-center"},Ya={class:"mb-0"},es={class:"badge bg-success"},ts={class:"card-body p-0"},as={class:"results-list"},ss=["onClick"],ls={class:"facility-icon"},is={class:"facility-info"},ns={class:"facility-name"},os={class:"facility-address"},rs={class:"facility-meta"},cs={class:"text-muted small"},ds={class:"facility-details mt-2"},us={class:"d-flex justify-content-between"},ms={class:"text-success small"},hs={class:"text-muted small"},vs={key:1,class:"navigation-card mt-4"},ps={class:"card-body"},gs={class:"selected-facility mb-3"},ks={class:"d-flex align-items-center"},bs={class:"facility-icon-small me-3"},fs={class:"mb-1"},Ls={class:"text-muted small mb-0"},ys={class:"mb-3"},Cs={class:"travel-modes"},ws=["value"],_s={class:"mode-icon"},xs={class:"mode-label"},Fs={class:"d-grid gap-2"},Ps={key:0,class:"route-info mt-3"},As={class:"route-summary"},Ss={class:"row text-center"},Es={class:"col-4"},Ms={class:"route-stat"},Rs={class:"stat-value"},Ds={class:"col-4"},Ts={class:"route-stat"},Is={class:"stat-value"},Ws={class:"col-4"},Hs={class:"route-stat"},Vs={class:"stat-value"},Xs={key:2,class:"stats-card mt-4"},$s={class:"card-body"},Os={class:"stats-grid"},js={class:"stat-item"},Ns={class:"stat-number"},qs={class:"stat-item"},Us={class:"stat-number"},Ks={class:"stat-item"},Bs={class:"stat-number"},zs={class:"stat-item"},Qs={class:"stat-number"},Js={class:"col-lg-8 col-md-7 map-container"},Gs={class:"map-wrapper"},Zs={class:"map-controls"},Ys={class:"control-group"},el={key:0,class:"loading-overlay"},tl={class:"loading-content"};function al(e,t,a,i,o,r){return(0,l.uX)(),(0,l.CE)("div",Ta,[(0,l.Lk)("div",Ia,[(0,l.Lk)("div",Wa,[(0,l.Lk)("div",Ha,[t[13]||(t[13]=(0,l.Lk)("div",{class:"col"},[(0,l.Lk)("h2",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-map-marked-alt me-2 text-primary"}),(0,l.eW)(" Health Facilities Locator ")]),(0,l.Lk)("p",{class:"text-muted mb-0"},"Find nearby medical facilities and get directions")],-1)),(0,l.Lk)("div",Va,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.getCurrentLocation&&r.getCurrentLocation(...e)),class:"btn btn-primary"},t[12]||(t[12]=[(0,l.Lk)("i",{class:"fas fa-location-arrow me-2"},null,-1),(0,l.eW)("Use My Location ",-1)]))])])])]),(0,l.Lk)("div",Xa,[(0,l.Lk)("div",$a,[(0,l.Lk)("div",Oa,[(0,l.Lk)("div",ja,[(0,l.Lk)("div",Na,[t[21]||(t[21]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-search me-2"}),(0,l.eW)("Search Medical Facilities ")])],-1)),(0,l.Lk)("div",qa,[(0,l.Lk)("div",Ua,[t[15]||(t[15]=(0,l.Lk)("label",{class:"form-label"},"Location",-1)),(0,l.Lk)("div",Ka,[t[14]||(t[14]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"fas fa-map-marker-alt"})],-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.searchQuery=e),type:"text",class:"form-control",placeholder:"Enter address or landmark",onKeyup:t[2]||(t[2]=(0,s.jR)((...e)=>r.searchLocation&&r.searchLocation(...e),["enter"]))},null,544),[[s.Jo,o.searchQuery]])])]),(0,l.Lk)("div",Ba,[t[17]||(t[17]=(0,l.Lk)("label",{class:"form-label"},"Facility Type",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.facilityType=e),class:"form-select"},t[16]||(t[16]=[(0,l.Fv)('<option value="" data-v-3cace265>All Facilities</option><option value="hospital" data-v-3cace265>🏥 Hospitals</option><option value="clinic" data-v-3cace265>🩺 Clinics</option><option value="pharmacy" data-v-3cace265>💊 Pharmacies</option><option value="emergency" data-v-3cace265>🚑 Emergency Services</option>',5)]),512),[[s.u1,o.facilityType]])]),(0,l.Lk)("div",za,[(0,l.Lk)("label",Qa,[t[18]||(t[18]=(0,l.eW)(" Search Radius: ",-1)),(0,l.Lk)("span",Ja,(0,n.v_)(o.searchRadius)+"km",1)]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.searchRadius=e),type:"range",class:"form-range",min:"1",max:"50",step:"1"},null,512),[[s.Jo,o.searchRadius]]),t[19]||(t[19]=(0,l.Lk)("div",{class:"d-flex justify-content-between small text-muted"},[(0,l.Lk)("span",null,"1km"),(0,l.Lk)("span",null,"50km")],-1))]),(0,l.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.searchLocation&&r.searchLocation(...e)),class:"btn btn-primary w-100"},t[20]||(t[20]=[(0,l.Lk)("i",{class:"fas fa-search me-2"},null,-1),(0,l.eW)("Search Facilities ",-1)]))])]),o.searchResults.length>0?((0,l.uX)(),(0,l.CE)("div",Ga,[(0,l.Lk)("div",Za,[(0,l.Lk)("h5",Ya,[t[22]||(t[22]=(0,l.Lk)("i",{class:"fas fa-list me-2"},null,-1)),(0,l.eW)("Found "+(0,n.v_)(o.searchResults.length)+" facilities ",1)]),(0,l.Lk)("span",es,(0,n.v_)(o.searchResults.length),1)]),(0,l.Lk)("div",ts,[(0,l.Lk)("div",as,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.searchResults,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["facility-item",{selected:o.selectedFacility?.id===e.id}]),onClick:t=>r.selectFacility(e)},[(0,l.Lk)("div",ls,[(0,l.Lk)("i",{class:(0,n.C4)(r.getFacilityIcon(e.type)),style:(0,n.Tr)({color:r.getFacilityColor(e.type)})},null,6)]),(0,l.Lk)("div",is,[(0,l.Lk)("h6",ns,(0,n.v_)(e.name),1),(0,l.Lk)("p",os,(0,n.v_)(e.address),1),(0,l.Lk)("div",rs,[(0,l.Lk)("span",{class:"badge me-2",style:(0,n.Tr)({backgroundColor:r.getFacilityColor(e.type)})},(0,n.v_)(e.type),5),(0,l.Lk)("span",cs,[t[23]||(t[23]=(0,l.Lk)("i",{class:"fas fa-route me-1"},null,-1)),(0,l.eW)((0,n.v_)(e.distance)+"km ",1)])]),(0,l.Lk)("div",ds,[(0,l.Lk)("div",us,[(0,l.Lk)("span",ms,[t[24]||(t[24]=(0,l.Lk)("i",{class:"fas fa-star"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.rating)+"/5 ",1)]),(0,l.Lk)("span",hs,[t[25]||(t[25]=(0,l.Lk)("i",{class:"fas fa-clock"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.hours),1)])])])]),t[26]||(t[26]=(0,l.Lk)("div",{class:"facility-action"},[(0,l.Lk)("i",{class:"fas fa-chevron-right"})],-1))],10,ss))),128))])])])):(0,l.Q3)("",!0),o.selectedFacility?((0,l.uX)(),(0,l.CE)("div",vs,[t[36]||(t[36]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"fas fa-navigation me-2"}),(0,l.eW)("Navigation ")])],-1)),(0,l.Lk)("div",ps,[(0,l.Lk)("div",gs,[(0,l.Lk)("div",ks,[(0,l.Lk)("div",bs,[(0,l.Lk)("i",{class:(0,n.C4)(r.getFacilityIcon(o.selectedFacility.type)),style:(0,n.Tr)({color:r.getFacilityColor(o.selectedFacility.type)})},null,6)]),(0,l.Lk)("div",null,[(0,l.Lk)("h6",fs,(0,n.v_)(o.selectedFacility.name),1),(0,l.Lk)("p",Ls,(0,n.v_)(o.selectedFacility.address),1)])])]),(0,l.Lk)("div",ys,[t[27]||(t[27]=(0,l.Lk)("label",{class:"form-label"},"Transportation Mode",-1)),(0,l.Lk)("div",Cs,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.travelModes,e=>((0,l.uX)(),(0,l.CE)("label",{key:e.value,class:(0,n.C4)(["travel-mode-option",{active:o.travelMode===e.value}])},[(0,l.bo)((0,l.Lk)("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=e=>o.travelMode=e),value:e.value,class:"d-none"},null,8,ws),[[s.XL,o.travelMode]]),(0,l.Lk)("span",_s,(0,n.v_)(e.icon),1),(0,l.Lk)("span",xs,(0,n.v_)(e.label),1)],2))),128))])]),(0,l.Lk)("div",Fs,[(0,l.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.getDirections&&r.getDirections(...e)),class:"btn btn-success"},t[28]||(t[28]=[(0,l.Lk)("i",{class:"fas fa-route me-2"},null,-1),(0,l.eW)("Get Directions ",-1)])),(0,l.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>r.startNavigation&&r.startNavigation(...e)),class:"btn btn-info"},t[29]||(t[29]=[(0,l.Lk)("i",{class:"fas fa-external-link-alt me-2"},null,-1),(0,l.eW)("Open in Maps ",-1)]))]),o.routeInfo?((0,l.uX)(),(0,l.CE)("div",Ps,[(0,l.Lk)("div",As,[(0,l.Lk)("div",Ss,[(0,l.Lk)("div",Es,[(0,l.Lk)("div",Ms,[t[30]||(t[30]=(0,l.Lk)("i",{class:"fas fa-route text-primary"},null,-1)),(0,l.Lk)("div",Rs,(0,n.v_)(o.routeInfo.distance),1),t[31]||(t[31]=(0,l.Lk)("div",{class:"stat-label"},"Distance",-1))])]),(0,l.Lk)("div",Ds,[(0,l.Lk)("div",Ts,[t[32]||(t[32]=(0,l.Lk)("i",{class:"fas fa-clock text-success"},null,-1)),(0,l.Lk)("div",Is,(0,n.v_)(o.routeInfo.duration),1),t[33]||(t[33]=(0,l.Lk)("div",{class:"stat-label"},"Duration",-1))])]),(0,l.Lk)("div",Ws,[(0,l.Lk)("div",Hs,[t[34]||(t[34]=(0,l.Lk)("i",{class:"fas fa-map text-info"},null,-1)),(0,l.Lk)("div",Vs,(0,n.v_)(o.travelMode),1),t[35]||(t[35]=(0,l.Lk)("div",{class:"stat-label"},"Mode",-1))])])])])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),o.searchResults.length>0?((0,l.uX)(),(0,l.CE)("div",Xs,[(0,l.Lk)("div",$s,[t[41]||(t[41]=(0,l.Lk)("h6",{class:"card-title"},"Quick Stats",-1)),(0,l.Lk)("div",Os,[(0,l.Lk)("div",js,[(0,l.Lk)("span",Ns,(0,n.v_)(r.hospitalCount),1),t[37]||(t[37]=(0,l.Lk)("span",{class:"stat-label"},"Hospitals",-1))]),(0,l.Lk)("div",qs,[(0,l.Lk)("span",Us,(0,n.v_)(r.clinicCount),1),t[38]||(t[38]=(0,l.Lk)("span",{class:"stat-label"},"Clinics",-1))]),(0,l.Lk)("div",Ks,[(0,l.Lk)("span",Bs,(0,n.v_)(r.pharmacyCount),1),t[39]||(t[39]=(0,l.Lk)("span",{class:"stat-label"},"Pharmacies",-1))]),(0,l.Lk)("div",zs,[(0,l.Lk)("span",Qs,(0,n.v_)(r.emergencyCount),1),t[40]||(t[40]=(0,l.Lk)("span",{class:"stat-label"},"Emergency",-1))])])])])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Js,[(0,l.Lk)("div",Gs,[t[47]||(t[47]=(0,l.Lk)("div",{id:"map",class:"enhanced-map"},null,-1)),(0,l.Lk)("div",Zs,[(0,l.Lk)("div",Ys,[(0,l.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>r.zoomIn&&r.zoomIn(...e)),class:"btn btn-light btn-sm",title:"Zoom In"},t[42]||(t[42]=[(0,l.Lk)("i",{class:"fas fa-plus"},null,-1)])),(0,l.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>r.zoomOut&&r.zoomOut(...e)),class:"btn btn-light btn-sm",title:"Zoom Out"},t[43]||(t[43]=[(0,l.Lk)("i",{class:"fas fa-minus"},null,-1)])),(0,l.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.resetView&&r.resetView(...e)),class:"btn btn-light btn-sm",title:"Reset View"},t[44]||(t[44]=[(0,l.Lk)("i",{class:"fas fa-home"},null,-1)]))])]),t[48]||(t[48]=(0,l.Fv)('<div class="map-legend" data-v-3cace265><h6 data-v-3cace265>Legend</h6><div class="legend-items" data-v-3cace265><div class="legend-item" data-v-3cace265><i class="fas fa-hospital" style="color:#dc3545;" data-v-3cace265></i><span data-v-3cace265>Hospitals</span></div><div class="legend-item" data-v-3cace265><i class="fas fa-clinic-medical" style="color:#28a745;" data-v-3cace265></i><span data-v-3cace265>Clinics</span></div><div class="legend-item" data-v-3cace265><i class="fas fa-pills" style="color:#007bff;" data-v-3cace265></i><span data-v-3cace265>Pharmacies</span></div><div class="legend-item" data-v-3cace265><i class="fas fa-ambulance" style="color:#ffc107;" data-v-3cace265></i><span data-v-3cace265>Emergency</span></div></div></div>',1)),o.loading?((0,l.uX)(),(0,l.CE)("div",el,[(0,l.Lk)("div",tl,[t[45]||(t[45]=(0,l.Lk)("div",{class:"spinner-border text-primary mb-3",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)),(0,l.Lk)("h5",null,(0,n.v_)(o.loadingMessage),1),t[46]||(t[46]=(0,l.Lk)("p",{class:"text-muted"},"Please wait while we process your request...",-1))])])):(0,l.Q3)("",!0)])])])])])}const sl={name:"HealthMap",data(){return{map:null,userLocation:null,searchQuery:"",facilityType:"",searchRadius:10,selectedFacility:null,travelMode:"driving",loading:!1,loadingMessage:"",routeInfo:null,travelModes:[{value:"driving",icon:"🚗",label:"Drive"},{value:"walking",icon:"🚶",label:"Walk"},{value:"transit",icon:"🚌",label:"Transit"},{value:"bicycling",icon:"🚲",label:"Bike"}],searchResults:[],allFacilities:[{id:1,name:"Melbourne Medical Centre",type:"hospital",address:"123 Collins Street, Melbourne VIC 3000",lat:-37.8136,lng:144.9631,rating:4.2,hours:"Open 24/7",phone:"(03) 9123 4567",services:["Emergency","Surgery","Maternity","ICU"],specialties:["Cardiology","Neurology","Orthopedics"]},{id:2,name:"City Medical Clinic",type:"clinic",address:"456 Bourke Street, Melbourne VIC 3000",lat:-37.8143,lng:144.9612,rating:4.5,hours:"8:00 AM - 6:00 PM",phone:"(03) 9234 5678",services:["General Practice","Vaccinations","Health Checks","Minor Surgery"],specialties:["Family Medicine","Preventive Care"]},{id:3,name:"HealthPlus Pharmacy",type:"pharmacy",address:"789 Swanston Street, Melbourne VIC 3000",lat:-37.8156,lng:144.9672,rating:4,hours:"9:00 AM - 9:00 PM",phone:"(03) 9345 6789",services:["Prescriptions","Health Products","Consultation","Flu Shots"],specialties:["Medication Management","Health Screening"]},{id:4,name:"Royal Melbourne Hospital",type:"hospital",address:"Grattan Street, Parkville VIC 3050",lat:-37.7986,lng:144.9559,rating:4.3,hours:"Open 24/7",phone:"(03) 9342 7000",services:["Emergency","Specialist Care","Research","Trauma Center"],specialties:["Cancer Treatment","Heart Surgery","Emergency Medicine"]},{id:5,name:"Emergency Medical Services",type:"emergency",address:"Elizabeth Street, Melbourne VIC 3000",lat:-37.8125,lng:144.9627,rating:4.1,hours:"Open 24/7",phone:"000",services:["Emergency Response","Ambulance","Paramedic Care","Life Support"],specialties:["Emergency Medicine","Critical Care Transport"]},{id:6,name:"Southbank Family Clinic",type:"clinic",address:"321 Southbank Blvd, Southbank VIC 3006",lat:-37.8225,lng:144.9631,rating:4.4,hours:"7:00 AM - 7:00 PM",phone:"(03) 9876 5432",services:["General Practice","Pediatrics","Women's Health","Mental Health"],specialties:["Family Medicine","Child Care","Preventive Medicine"]},{id:7,name:"Carlton Pharmacy Plus",type:"pharmacy",address:"654 Lygon Street, Carlton VIC 3053",lat:-37.8014,lng:144.9669,rating:4.2,hours:"8:30 AM - 8:00 PM",phone:"(03) 9347 8901",services:["Prescriptions","Compounding","Health Advice","Medical Equipment"],specialties:["Custom Medications","Diabetes Care"]}],markers:[],directionsRenderer:null}},computed:{hospitalCount(){return this.searchResults.filter(e=>"hospital"===e.type).length},clinicCount(){return this.searchResults.filter(e=>"clinic"===e.type).length},pharmacyCount(){return this.searchResults.filter(e=>"pharmacy"===e.type).length},emergencyCount(){return this.searchResults.filter(e=>"emergency"===e.type).length}},mounted(){this.initializeMap(),this.getCurrentLocation()},methods:{initializeMap(){this.loading=!0,this.loadingMessage="Loading interactive map...",setTimeout(()=>{const e=document.getElementById("map");e.innerHTML=`\n          <div class="enhanced-demo-map">\n            <div class="map-background"></div>\n            <div class="map-grid"></div>\n            \n            \x3c!-- Animated markers for facilities --\x3e\n            <div class="map-markers">\n              ${this.createDemoMarkers()}\n            </div>\n            \n            \x3c!-- User location indicator --\x3e\n            <div class="user-location-marker">\n              <div class="user-marker-pulse"></div>\n              <div class="user-marker-dot"></div>\n            </div>\n            \n            \x3c!-- Map overlay with info --\x3e\n            <div class="enhanced-map-overlay">\n              <div class="overlay-header">\n                <h4><i class="fas fa-map-marked-alt me-2"></i>Interactive Health Facilities Map</h4>\n                <span class="status-indicator online">\n                  <i class="fas fa-circle"></i> Live Data\n                </span>\n              </div>\n              <div class="overlay-content">\n                <p>Melbourne CBD & Surrounding Areas</p>\n                <div class="map-stats">\n                  <div class="stat">\n                    <span class="stat-number">${this.allFacilities.length}</span>\n                    <span class="stat-label">Total Facilities</span>\n                  </div>\n                  <div class="stat">\n                    <span class="stat-number">${this.searchRadius}km</span>\n                    <span class="stat-label">Search Radius</span>\n                  </div>\n                </div>\n                <small class="demo-note">\n                  <i class="fas fa-info-circle"></i>\n                  Interactive demo - In production, this would display a real Google Maps interface with live facility data\n                </small>\n              </div>\n            </div>\n          </div>\n        `,this.loading=!1,this.searchNearbyFacilities()},1500)},createDemoMarkers(){return this.allFacilities.map((e,t)=>{const a=this.getFacilityColor(e.type),s=this.getFacilityIcon(e.type),l=20+15*t%60,i=15+20*t%70;return`\n          <div class="demo-marker" \n               style="top: ${l}%; left: ${i}%; --marker-color: ${a};"\n               data-facility-id="${e.id}">\n            <div class="marker-icon">\n              <i class="${s}"></i>\n            </div>\n            <div class="marker-tooltip">\n              <strong>${e.name}</strong><br>\n              <small>${e.type} • ${e.rating}/5</small>\n            </div>\n          </div>\n        `}).join("")},getFacilityColor(e){const t={hospital:"#dc3545",clinic:"#28a745",pharmacy:"#007bff",emergency:"#ffc107"};return t[e]||"#6c757d"},getCurrentLocation(){this.loading=!0,this.loadingMessage="Getting your location...",setTimeout(()=>{this.userLocation={lat:-37.8136,lng:144.9631},this.loading=!1,this.searchNearbyFacilities()},500)},searchLocation(){this.searchQuery.trim()?(this.loading=!0,this.loadingMessage="Searching location...",setTimeout(()=>{this.userLocation={lat:.01*(Math.random()-.5)-37.8136,lng:144.9631+.01*(Math.random()-.5)},this.searchNearbyFacilities(),this.loading=!1},1e3)):this.searchNearbyFacilities()},searchNearbyFacilities(){this.clearMarkers();const e=this.userLocation||{lat:-37.8136,lng:144.9631};let t=this.allFacilities;this.facilityType&&(t=t.filter(e=>e.type===this.facilityType)),this.searchResults=t.map(t=>{const a=this.calculateDistance(e.lat,e.lng,t.lat,t.lng);return{...t,distance:a.toFixed(1)}}).filter(e=>e.distance<=this.searchRadius).sort((e,t)=>e.distance-t.distance),this.addMarkersToMap()},addMarkersToMap(){const e=document.getElementById("map"),t=e.querySelector(".enhanced-map-overlay .overlay-content");if(t){const e=`\n          <div class="map-stats">\n            <div class="stat">\n              <span class="stat-number">${this.searchResults.length}</span>\n              <span class="stat-label">Found Facilities</span>\n            </div>\n            <div class="stat">\n              <span class="stat-number">${this.searchRadius}km</span>\n              <span class="stat-label">Search Radius</span>\n            </div>\n          </div>\n          <div class="facility-breakdown">\n            <div class="breakdown-item">\n              <i class="fas fa-hospital" style="color: #dc3545"></i>\n              <span>${this.hospitalCount} Hospitals</span>\n            </div>\n            <div class="breakdown-item">\n              <i class="fas fa-clinic-medical" style="color: #28a745"></i>\n              <span>${this.clinicCount} Clinics</span>\n            </div>\n            <div class="breakdown-item">\n              <i class="fas fa-pills" style="color: #007bff"></i>\n              <span>${this.pharmacyCount} Pharmacies</span>\n            </div>\n            <div class="breakdown-item">\n              <i class="fas fa-ambulance" style="color: #ffc107"></i>\n              <span>${this.emergencyCount} Emergency</span>\n            </div>\n          </div>\n        `;t.innerHTML=`\n          <p>Melbourne CBD & Surrounding Areas</p>\n          ${e}\n          <small class="demo-note">\n            <i class="fas fa-info-circle"></i>\n            Interactive demo - Click facilities in the sidebar to view details\n          </small>\n        `}setTimeout(()=>{const e=document.querySelectorAll(".demo-marker");e.forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.facilityId),a=this.allFacilities.find(e=>e.id===t);a&&this.searchResults.includes(a)&&this.selectFacility(a)})})},100)},clearMarkers(){this.addMarkersToMap()},selectFacility(e){this.selectedFacility=e;const t=document.getElementById("map"),a=t.querySelector(".enhanced-map-overlay .overlay-content");a&&(a.innerHTML=`\n          <div class="selected-facility-info">\n            <div class="facility-header">\n              <div class="facility-icon-large">\n                <i class="${this.getFacilityIcon(e.type)}" \n                   style="color: ${this.getFacilityColor(e.type)}"></i>\n              </div>\n              <div class="facility-details">\n                <h5>${e.name}</h5>\n                <p class="text-muted">${e.address}</p>\n                <div class="facility-badges">\n                  <span class="badge" style="background-color: ${this.getFacilityColor(e.type)}">\n                    ${e.type}\n                  </span>\n                  <span class="badge bg-success">\n                    <i class="fas fa-star"></i> ${e.rating}/5\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            <div class="facility-info-grid">\n              <div class="info-item">\n                <i class="fas fa-clock text-primary"></i>\n                <span>${e.hours}</span>\n              </div>\n              <div class="info-item">\n                <i class="fas fa-phone text-success"></i>\n                <span>${e.phone}</span>\n              </div>\n              <div class="info-item">\n                <i class="fas fa-route text-info"></i>\n                <span>${e.distance}km away</span>\n              </div>\n            </div>\n            \n            <div class="services-preview">\n              <strong>Services:</strong>\n              <div class="services-tags">\n                ${e.services.slice(0,3).map(e=>`<span class="service-tag">${e}</span>`).join("")}\n                ${e.services.length>3?`<span class="service-tag more">+${e.services.length-3} more</span>`:""}\n              </div>\n            </div>\n          </div>\n          \n          <small class="demo-note">\n            <i class="fas fa-info-circle"></i>\n            Use the navigation panel to get directions to this facility\n          </small>\n        `);const s=document.querySelectorAll(".demo-marker");s.forEach(t=>{t.classList.remove("selected"),parseInt(t.dataset.facilityId)===e.id&&t.classList.add("selected")}),this.routeInfo=null},getDirections(){this.selectedFacility?(this.loading=!0,this.loadingMessage="Calculating route...",setTimeout(()=>{const e=Math.round(10*parseFloat(this.selectedFacility.distance))/10;let t;switch(this.travelMode){case"walking":t=Math.round(12*e);break;case"bicycling":t=Math.round(4*e);break;case"transit":t=Math.round(6*e);break;default:t=Math.round(3*e)}this.routeInfo={distance:`${e}km`,duration:`${t} min`,mode:this.travelMode,steps:["Head north on current street",`Turn right towards ${this.selectedFacility.address.split(",")[0]}`,`Continue straight for ${(.7*e).toFixed(1)}km`,`Arrive at ${this.selectedFacility.name}`]},this.loading=!1},1e3)):alert("Please select a facility first!")},startNavigation(){if(!this.selectedFacility)return void alert("Please select a facility first.");const e=`${this.selectedFacility.lat},${this.selectedFacility.lng}`,t=`https://www.google.com/maps/dir/?api=1&destination=${e}&travelmode=${this.travelMode}`;window.open(t,"_blank")},getTravelMode(){return this.travelMode||"driving"},getFacilityIcon(e){const t={hospital:"fas fa-hospital",clinic:"fas fa-clinic-medical",pharmacy:"fas fa-pills",emergency:"fas fa-ambulance"};return t[e]||"fas fa-map-marker-alt"},calculateDistance(e,t,a,s){const l=6371,i=(a-e)*Math.PI/180,n=(s-t)*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2),r=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return l*r},zoomIn(){const e=document.querySelector(".enhanced-map-overlay");if(e){const t=document.createElement("div");t.className="zoom-info",t.innerHTML="<small>Zoom In activated</small>",e.appendChild(t),setTimeout(()=>t.remove(),2e3)}},zoomOut(){const e=document.querySelector(".enhanced-map-overlay");if(e){const t=document.createElement("div");t.className="zoom-info",t.innerHTML="<small>Zoom Out activated</small>",e.appendChild(t),setTimeout(()=>t.remove(),2e3)}},resetView(){this.initializeMap(),this.searchNearbyFacilities()}}},ll=(0,_.A)(sl,[["render",al],["__scopeId","data-v-3cace265"]]),il=ll,nl={class:"container d-flex justify-content-center"},ol={class:"rating-card w-100",style:{"max-width":"600px"}},rl={class:"rating-header text-center mb-3"},cl={class:"specialty"},dl={class:"languages mt-2"},ul={class:"rating-body"},ml={class:"description text-center"},hl={class:"current-rating text-center mb-3"},vl={class:"stars"},pl={class:"rating-text"},gl={key:0,class:"rating-input text-center"},kl={class:"stars-input"},bl=["onMouseover","onClick"],fl={key:0,class:"text-success mt-2"},Ll={class:"rating-stats text-center mt-3"},yl={__name:"RatingCard",props:{doctor:Object,canRate:Boolean},emits:["rate"],setup(e,{emit:t}){const a=e,s=t,o=(0,i.KR)(0),r=(0,i.KR)(0),c=(0,i.KR)(a.doctor.totalRatings||0),d=(0,l.EW)(()=>a.doctor.averageRating||0);(0,l.sV)(()=>{const e=JSON.parse(localStorage.getItem("doctorRatings")||"{}");e[a.doctor.id]&&(a.doctor.totalRatings=e[a.doctor.id].totalRatings,a.doctor.averageRating=e[a.doctor.id].averageRating,o.value=e[a.doctor.id].userRating||0,r.value=o.value)});const u=e=>{o.value=e;const t=JSON.parse(localStorage.getItem("doctorRatings")||"{}"),l=a.doctor.id;if(t[l]){const a=t[l].totalRatings,s=t[l].averageRating,i=a+1,n=(s*a+e)/i;t[l]={totalRatings:i,averageRating:n,userRating:e}}else t[l]={totalRatings:1,averageRating:e,userRating:e};localStorage.setItem("doctorRatings",JSON.stringify(t)),a.doctor.totalRatings=t[l].totalRatings,a.doctor.averageRating=t[l].averageRating,s("rate",{doctorId:l,rating:e})};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",nl,[(0,l.Lk)("div",ol,[(0,l.Lk)("div",rl,[(0,l.Lk)("h3",null,(0,n.v_)(e.doctor.name),1),(0,l.Lk)("p",cl,(0,n.v_)(e.doctor.specialty),1),(0,l.Lk)("div",dl,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.doctor.languages,e=>((0,l.uX)(),(0,l.CE)("span",{class:"badge bg-info me-1",key:e},(0,n.v_)(e),1))),128))])]),(0,l.Lk)("div",ul,[(0,l.Lk)("p",ml,(0,n.v_)(e.doctor.description),1),(0,l.Lk)("div",hl,[(0,l.Lk)("span",vl,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(5,e=>(0,l.Lk)("i",{key:e,class:(0,n.C4)(["bi",e<=d.value?"bi-star-fill":"bi-star"]),style:(0,n.Tr)({color:e<=d.value?"#ffc107":"#6c757d"})},null,6)),64))]),(0,l.Lk)("span",pl,(0,n.v_)(d.value.toFixed(1))+"/5.0",1)]),e.canRate?((0,l.uX)(),(0,l.CE)("div",gl,[a[1]||(a[1]=(0,l.Lk)("p",{class:"mb-2"},"Rate this doctor:",-1)),(0,l.Lk)("div",kl,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(5,e=>(0,l.Lk)("i",{key:e,class:(0,n.C4)(["bi",e<=r.value?"bi-star-fill":"bi-star"]),onMouseover:t=>r.value=e,onMouseleave:a[0]||(a[0]=e=>r.value=o.value),onClick:t=>u(e),style:(0,n.Tr)({color:e<=r.value?"#ffc107":"#6c757d"})},null,46,bl)),64))]),o.value>0?((0,l.uX)(),(0,l.CE)("p",fl,"Thank you for rating!")):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),(0,l.Lk)("div",Ll,[(0,l.Lk)("p",null,"Total Ratings: "+(0,n.v_)(c.value),1)])])])]))}},Cl=(0,_.A)(yl,[["__scopeId","data-v-1919c672"]]),wl=Cl,_l={class:"doctor-rating"},xl={class:"container"},Fl={class:"search-filter mb-4"},Pl={class:"row g-3"},Al={class:"col-md-6"},Sl={class:"input-group"},El={class:"col-md-3"},Ml=["value"],Rl={class:"col-md-3"},Dl=["value"],Tl={class:"row"},Il={key:0,class:"text-center my-5"},Wl={__name:"DoctorRating",setup(e){const t=(0,r.rd)(),a=(0,i.KR)([{id:1,name:"Dr. Zhang",specialty:"General Practitioner",averageRating:4.5,totalRatings:128,languages:["Chinese","English"],description:"20 years of experience in family medicine and chronic disease management."},{id:2,name:"Dr. Chen",specialty:"Pediatrician",averageRating:4.8,totalRatings:256,languages:["Chinese","English","Cantonese"],description:"Experienced pediatrician specializing in child health and vaccination."},{id:3,name:"Dr. Smith",specialty:"Cardiologist",averageRating:4.6,totalRatings:182,languages:["English","Spanish"],description:"Cardiovascular expert focused on heart disease prevention and treatment."},{id:4,name:"Dr. Li",specialty:"Physician",averageRating:4.7,totalRatings:145,languages:["Chinese","English"],description:"Internal medicine specialist handling common diseases and chronic care."}]),o=(0,i.KR)(""),c=(0,i.KR)(""),d=(0,i.KR)(""),u=(0,i.KR)(!1);(0,l.sV)(()=>{const e=localStorage.getItem("userInfo");u.value=!!e});const m=(0,l.EW)(()=>Array.from(new Set(a.value.map(e=>e.specialty)))),h=(0,l.EW)(()=>{const e=new Set;return a.value.forEach(t=>t.languages.forEach(t=>e.add(t))),[...e]}),v=(0,l.EW)(()=>a.value.filter(e=>{const t=!o.value||e.name.toLowerCase().includes(o.value.toLowerCase())||e.specialty.toLowerCase().includes(o.value.toLowerCase()),a=!c.value||e.specialty===c.value,s=!d.value||e.languages.includes(d.value);return t&&a&&s})),p=()=>{},g=({doctorId:e,rating:s})=>{const l=localStorage.getItem("userInfo");if(!l)return void t.push({path:"/login",query:{redirect:"/doctor-rating"}});const i=a.value.find(t=>t.id===e);if(i){const t=i.totalRatings+1,a=(i.averageRating*i.totalRatings+s)/t;i.totalRatings=t,i.averageRating=a;const l=JSON.parse(localStorage.getItem("doctorRatings")||"{}");l[e]={averageRating:i.averageRating,totalRatings:i.totalRatings},localStorage.setItem("doctorRatings",JSON.stringify(l)),alert("Thanks for your rating!")}};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",_l,[(0,l.Lk)("div",xl,[t[7]||(t[7]=(0,l.Lk)("h1",{class:"text-center mb-5"},"Find a Doctor",-1)),(0,l.Lk)("div",Fl,[(0,l.Lk)("div",Pl,[(0,l.Lk)("div",Al,[(0,l.Lk)("div",Sl,[t[3]||(t[3]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),placeholder:"Search by name or specialty...",onInput:p},null,544),[[s.Jo,o.value]])])]),(0,l.Lk)("div",El,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),onChange:p},[t[4]||(t[4]=(0,l.Lk)("option",{value:""},"All Specialties",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(m.value,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Ml))),128))],544),[[s.u1,c.value]])]),(0,l.Lk)("div",Rl,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),onChange:p},[t[5]||(t[5]=(0,l.Lk)("option",{value:""},"All Languages",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(h.value,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Dl))),128))],544),[[s.u1,d.value]])])])]),(0,l.Lk)("div",Tl,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(v.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 mb-4"},[(0,l.bF)(wl,{doctor:e,"can-rate":u.value,onRate:g},null,8,["doctor","can-rate"])]))),128))]),0===v.value.length?((0,l.uX)(),(0,l.CE)("div",Il,t[6]||(t[6]=[(0,l.Lk)("p",null,"No matching doctors found.",-1)]))):(0,l.Q3)("",!0)])]))}},Hl=(0,_.A)(Wl,[["__scopeId","data-v-131f7337"]]),Vl=Hl,Xl={class:"container"},$l={class:"banner-content"},Ol={class:"banner-text"},jl={__name:"RoleBanner",props:{role:{type:String,required:!0,validator:e=>["admin","user"].includes(e)},username:{type:String,required:!0}},setup(e){const t=e,a=(0,l.EW)(()=>`role-banner-${t.role}`),s=(0,l.EW)(()=>({admin:"bi bi-shield-check",user:"bi bi-person"}[t.role])),i=(0,l.EW)(()=>`欢迎回来，${t.username}${"admin"===t.role?" (管理员)":""}`),o=(0,l.EW)(()=>({admin:"您可以管理系统内容和用户数据",user:"浏览健康资讯，为医生评分，管理个人信息"}[t.role]));return(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)(["role-banner",a.value])},[(0,l.Lk)("div",Xl,[(0,l.Lk)("div",$l,[(0,l.Lk)("i",{class:(0,n.C4)(s.value)},null,2),(0,l.Lk)("div",Ol,[(0,l.Lk)("h4",null,(0,n.v_)(i.value),1),(0,l.Lk)("p",null,(0,n.v_)(o.value),1)])])])],2))}},Nl=(0,_.A)(jl,[["__scopeId","data-v-08176ec8"]]),ql=Nl,Ul={class:"admin-panel"},Kl={class:"container"},Bl={class:"admin-nav mb-4"},zl={class:"btn-group"},Ql=["onClick"],Jl={class:"content-area"},Gl={key:0,class:"panel"},Zl={class:"table-responsive"},Yl={class:"table"},ei=["onClick"],ti={key:1,class:"panel"},ai={class:"table-responsive"},si={class:"table"},li={key:2,class:"panel"},ii={class:"table-responsive"},ni={class:"table"},oi="管理员",ri={__name:"AdminPanel",setup(e){const t=(0,i.KR)("users"),a=[{id:"users",name:"用户管理"},{id:"articles",name:"文章管理"},{id:"ratings",name:"评分管理"}],s=(0,i.KR)([{id:1,username:"user1",email:"user1@example.com",registerDate:"2025-07-01",active:!0}]),o=(0,i.KR)([{id:1,title:"保持健康的饮食习惯",category:"饮食健康",date:"2025-07-20",published:!0}]),r=(0,i.KR)([{doctorId:1,doctorName:"张医生",totalRatings:128,averageRating:4.5,lastRatingDate:"2025-07-21"}]),c=e=>new Date(e).toLocaleDateString("zh-CN"),d=e=>{e.active=!e.active},u=()=>{};return(e,i)=>((0,l.uX)(),(0,l.CE)("div",Ul,[(0,l.Lk)("div",Kl,[(0,l.bF)(ql,{role:"admin",username:oi}),(0,l.Lk)("div",Bl,[(0,l.Lk)("div",zl,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(a,e=>(0,l.Lk)("button",{key:e.id,class:(0,n.C4)(["btn",[t.value===e.id?"btn-primary":"btn-outline-primary"]]),onClick:a=>t.value=e.id},(0,n.v_)(e.name),11,Ql)),64))])]),(0,l.Lk)("div",Jl,["users"===t.value?((0,l.uX)(),(0,l.CE)("div",Gl,[i[2]||(i[2]=(0,l.Lk)("h3",{class:"mb-4"},"用户管理",-1)),(0,l.Lk)("div",Zl,[(0,l.Lk)("table",Yl,[i[1]||(i[1]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"用户名"),(0,l.Lk)("th",null,"邮箱"),(0,l.Lk)("th",null,"注册时间"),(0,l.Lk)("th",null,"状态"),(0,l.Lk)("th",null,"操作")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,n.v_)(e.id),1),(0,l.Lk)("td",null,(0,n.v_)(e.username),1),(0,l.Lk)("td",null,(0,n.v_)(e.email),1),(0,l.Lk)("td",null,(0,n.v_)(c(e.registerDate)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",e.active?"bg-success":"bg-danger"])},(0,n.v_)(e.active?"正常":"禁用"),3)]),(0,l.Lk)("td",null,[i[0]||(i[0]=(0,l.Lk)("button",{class:"btn btn-sm btn-outline-primary me-2"},"编辑",-1)),(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-sm",[e.active?"btn-outline-danger":"btn-outline-success"]]),onClick:t=>d(e)},(0,n.v_)(e.active?"禁用":"启用"),11,ei)])]))),128))])])])])):(0,l.Q3)("",!0),"articles"===t.value?((0,l.uX)(),(0,l.CE)("div",ti,[(0,l.Lk)("div",{class:"d-flex justify-content-between align-items-center mb-4"},[i[3]||(i[3]=(0,l.Lk)("h3",null,"文章管理",-1)),(0,l.Lk)("button",{class:"btn btn-primary",onClick:u}," 新建文章 ")]),(0,l.Lk)("div",ai,[(0,l.Lk)("table",si,[i[5]||(i[5]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"标题"),(0,l.Lk)("th",null,"分类"),(0,l.Lk)("th",null,"发布时间"),(0,l.Lk)("th",null,"状态"),(0,l.Lk)("th",null,"操作")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,n.v_)(e.id),1),(0,l.Lk)("td",null,(0,n.v_)(e.title),1),(0,l.Lk)("td",null,(0,n.v_)(e.category),1),(0,l.Lk)("td",null,(0,n.v_)(c(e.date)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",e.published?"bg-success":"bg-warning"])},(0,n.v_)(e.published?"已发布":"草稿"),3)]),i[4]||(i[4]=(0,l.Lk)("td",null,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-primary me-2"},"编辑"),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-danger"},"删除")],-1))]))),128))])])])])):(0,l.Q3)("",!0),"ratings"===t.value?((0,l.uX)(),(0,l.CE)("div",li,[i[8]||(i[8]=(0,l.Lk)("h3",{class:"mb-4"},"评分管理",-1)),(0,l.Lk)("div",ii,[(0,l.Lk)("table",ni,[i[7]||(i[7]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"医生"),(0,l.Lk)("th",null,"总评分数"),(0,l.Lk)("th",null,"平均分"),(0,l.Lk)("th",null,"最近评分"),(0,l.Lk)("th",null,"操作")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.doctorId},[(0,l.Lk)("td",null,(0,n.v_)(e.doctorName),1),(0,l.Lk)("td",null,(0,n.v_)(e.totalRatings),1),(0,l.Lk)("td",null,(0,n.v_)(e.averageRating.toFixed(1)),1),(0,l.Lk)("td",null,(0,n.v_)(c(e.lastRatingDate)),1),i[6]||(i[6]=(0,l.Lk)("td",null,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-primary"},"查看详情")],-1))]))),128))])])])])):(0,l.Q3)("",!0)])])]))}},ci=(0,_.A)(ri,[["__scopeId","data-v-0b89d86e"]]),di=ci,ui=[{path:"/",name:"Home",component:ge},{path:"/home",redirect:"/"},{path:"/login",name:"Login",component:Se},{path:"/register",name:"Register",component:tt},{path:"/dashboard",name:"Dashboard",component:Lt,meta:{requiresAuth:!0}},{path:"/health-articles",name:"HealthArticles",component:Da,meta:{requiresAuth:!1}},{path:"/health-map",name:"HealthMap",component:il,meta:{requiresAuth:!1}},{path:"/admin/dashboard",name:"AdminDashboard",component:()=>a.e(430).then(a.bind(a,6430)),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/doctor-rating",name:"DoctorRating",component:Vl,meta:{requiresAuth:!1,requiresAuthForActions:!0}},{path:"/resources",name:"Resources",component:()=>a.e(284).then(a.bind(a,5284)),meta:{requiresAuth:!1,requiresAuthForActions:!0}},{path:"/consultation",name:"Consultation",component:()=>a.e(721).then(a.bind(a,6721)),meta:{requiresAuth:!0}},{path:"/contact",name:"Contact",component:()=>a.e(987).then(a.bind(a,8987))},{path:"/email-demo",name:"EmailDemo",component:()=>a.e(523).then(a.bind(a,7523))},{path:"/doctors",name:"DoctorList",component:()=>Promise.all([a.e(454),a.e(53)]).then(a.bind(a,8053))},{path:"/appointments",name:"AppointmentHistory",component:()=>Promise.all([a.e(454),a.e(379)]).then(a.bind(a,4379)),meta:{requiresAuth:!0}},{path:"/admin/resources",name:"AdminResources",component:()=>a.e(39).then(a.bind(a,39)),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/ratings",name:"AdminRatings",component:()=>a.e(242).then(a.bind(a,2242)),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/users",name:"UserManagement",component:()=>a.e(604).then(a.bind(a,6604)),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/settings",name:"Settings",component:()=>a.e(925).then(a.bind(a,1925)),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin",name:"AdminPanel",component:di,meta:{requiresAuth:!0,requiresAdmin:!0}}],mi=(0,r.aE)({history:(0,r.LA)(),routes:ui});mi.beforeEach((e,t,a)=>{const s=(0,c.n)(),l=s.isAuthenticated;return console.log("路由守卫检查:",{to:e.path,isAuthenticated:l,requiresAuth:e.meta.requiresAuth}),l&&"/login"===e.path?(console.log("用户已认证，重定向到仪表板"),void a({path:"/dashboard"})):e.meta.requiresAuth&&!l?(console.log("需要认证的路由，重定向到登录页"),void a({path:"/login",query:{redirect:e.fullPath}})):(console.log("允许访问:",e.path),void a())});const hi=mi;var vi=a(5615),pi=a(1656),gi=a(6158),ki=a(2835),bi=a(4512),fi=a(4842),Li=a(3244),yi=a(2812),Ci=a(1081),wi=a(1637),_i=a(9225);const xi=(0,s.Ef)(W),Fi=(0,vi.Ey)();xi.use(Fi),xi.use(hi),xi.use(pi.Ay),xi.use(yi.A),xi.component("DataTable",gi.A),xi.component("Column",ki.A),xi.component("Button",bi.A),xi.component("InputText",fi.A),xi.component("Toast",Li.A),xi.component("Card",Ci.A),xi.component("Dialog",wi.A),xi.component("Password",_i.A),xi.mount("#app");const Pi=(0,c.n)();Pi.initializeAuth().then(()=>{console.log("App挂载后的认证状态初始化完成:",{user:!!Pi.user,isAuthenticated:Pi.isAuthenticated}),Pi.isAuthenticated&&"/login"===hi.currentRoute.value.path&&(console.log("用户已登录，从登录页重定向到仪表板"),hi.push("/dashboard"))})},3556:(e,t,a)=>{a.d(t,{db:()=>u,j2:()=>d});var s=a(223),l=a(7496),i=a(1884),n=a(4604),o=a(5904);const r={apiKey:"AIzaSyBVe5MCasOxhuTVAO5mTdRGaw2FBBgdc94",authDomain:"a3-yu-zhong.firebaseapp.com",projectId:"a3-yu-zhong",storageBucket:"a3-yu-zhong.firebasestorage.app",messagingSenderId:"739795054099",appId:"1:739795054099:web:1e84da0b5c35a8510019e6"},c=(0,s.Wp)(r),d=(0,l.xI)(c),u=(0,i.aU)(c);(0,n.Uz)(c),(0,o.c7)(c);d.languageCode="zh-CN",console.log("Firebase initialized with project:",r.projectId)},7518:(e,t,a)=>{a.d(t,{n:()=>n});var s=a(5615),l=a(3556),i=a(7496);const n=(0,s.nY)("auth",{state:()=>({user:null,isAuthenticated:!1,loading:!1,error:null,initialized:!1}),actions:{setUser(e){console.log("设置用户状态:",e),this.user=e,this.isAuthenticated=!!e,console.log("认证状态更新:",{user:this.user,isAuthenticated:this.isAuthenticated})},setLoading(e){this.loading=e},setError(e){this.error=e},initializeAuth(){return this.initialized?(console.log("认证已初始化，返回当前用户:",!!this.user),Promise.resolve(this.user)):new Promise(e=>{console.log("开始初始化Firebase认证状态...");const t=(0,i.hg)(l.j2,a=>{console.log("Firebase认证状态变化:",!!a),this.initialized||(this.setUser(a),this.initialized=!0,e(a)),t()})})},async login(e,t){try{this.setLoading(!0),this.setError(null),console.log("开始Firebase登录:",e);const a=await(0,i.x9)(l.j2,e,t);return console.log("Firebase登录成功:",a.user),this.setUser(a.user),this.initialized=!0,a.user}catch(a){throw console.error("Firebase登录错误:",a),"auth/configuration-not-found"===a.code?this.setError("Firebase Authentication未配置。请确保在Firebase控制台中启用了Authentication服务。"):"auth/user-not-found"===a.code?this.setError("用户不存在，请先注册。"):"auth/wrong-password"===a.code?this.setError("密码错误。"):"auth/invalid-email"===a.code?this.setError("邮箱格式不正确。"):this.setError(a.message),a}finally{this.setLoading(!1)}},async register(e,t){try{this.setLoading(!0),this.setError(null),console.log("开始Firebase注册:",e);const a=await(0,i.eJ)(l.j2,e,t);return console.log("Firebase注册成功:",a.user),this.setUser(a.user),a.user}catch(a){throw console.error("Firebase注册错误:",a),"auth/configuration-not-found"===a.code?this.setError("Firebase Authentication未配置。请确保在Firebase控制台中启用了Authentication服务。"):"auth/email-already-in-use"===a.code?this.setError("该邮箱已被注册，请使用其他邮箱或直接登录。"):"auth/weak-password"===a.code?this.setError("密码太弱，请使用至少6位字符。"):"auth/invalid-email"===a.code?this.setError("邮箱格式不正确。"):this.setError(a.message),a}finally{this.setLoading(!1)}},async logout(){try{await(0,i.CI)(l.j2),this.setUser(null)}catch(e){throw this.setError(e.message),e}}},getters:{getCurrentUser:e=>e.user,getIsAuthenticated:e=>{const t=e.isAuthenticated&&!!e.user;return console.log("检查认证状态:",{isAuthenticated:e.isAuthenticated,hasUser:!!e.user,result:t}),t}}});(0,s.nY)("app",{state:()=>({isOnline:navigator.onLine,offlineData:JSON.parse(localStorage.getItem("offlineData"))||[],doctors:[],appointments:[]}),actions:{setOnlineStatus(e){this.isOnline=e,e&&this.offlineData.length>0&&this.syncOfflineData()},addOfflineData(e){this.offlineData.push({...e,timestamp:Date.now()}),localStorage.setItem("offlineData",JSON.stringify(this.offlineData))},async syncOfflineData(){try{console.log("同步离线数据:",this.offlineData),this.offlineData=[],localStorage.removeItem("offlineData")}catch(e){console.error("同步离线数据失败:",e)}},generateDoctors(){const e=["内科","外科","儿科","妇科","骨科","眼科","皮肤科","心理科"],t=["北京协和医院","上海华山医院","广州中山医院","深圳人民医院"],a=["张医生","李医生","王医生","刘医生","陈医生","杨医生","赵医生","孙医生"];this.doctors=Array.from({length:50},(s,l)=>({id:l+1,name:a[Math.floor(Math.random()*a.length)]+(l+1),specialty:e[Math.floor(Math.random()*e.length)],hospital:t[Math.floor(Math.random()*t.length)],rating:(2*Math.random()+3).toFixed(1),experience:Math.floor(20*Math.random())+5}))},generateAppointments(){this.appointments=Array.from({length:20},(e,t)=>({id:t+1,doctorName:"张医生"+(t+1),date:new Date(Date.now()+30*Math.random()*24*60*60*1e3).toLocaleDateString(),time:["09:00","10:00","14:00","15:00"][Math.floor(4*Math.random())],status:["已预约","已完成","已取消"][Math.floor(3*Math.random())],type:"门诊"}))}}})}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,s,l,i)=>{if(!s){var n=1/0;for(d=0;d<e.length;d++){for(var[s,l,i]=e[d],o=!0,r=0;r<s.length;r++)(!1&i||n>=i)&&Object.keys(a.O).every(e=>a.O[e](s[r]))?s.splice(r--,1):(o=!1,i<n&&(n=i));if(o){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,l,i]}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(s,l){if(1&l&&(s=this(s)),8&l)return s;if("object"===typeof s&&s){if(4&l&&s.__esModule)return s;if(16&l&&"function"===typeof s.then)return s}var i=Object.create(null);a.r(i);var n={};e=e||[null,t({}),t([]),t(t)];for(var o=2&l&&s;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>n[e]=()=>s[e]);return n["default"]=()=>s,a.d(i,n),i}})(),(()=>{a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,s)=>(a.f[s](e,t),t),[]))})(),(()=>{a.u=e=>"js/"+e+"."+{39:"74a22e06",53:"3f837f55",242:"23bc6b20",284:"0300ee2e",332:"76789f9b",354:"b5e53cc6",379:"fb558873",430:"964ba51e",454:"21e35c36",523:"bfcfb772",604:"78b5421f",721:"977c5ffd",838:"1c58552a",925:"1b65a896",987:"622dc6be"}[e]+".js"})(),(()=>{a.miniCssF=e=>"css/"+e+"."+{39:"fdb009a5",53:"a336950f",242:"441e9004",284:"0cff748a",379:"a7420013",430:"59079cfb",523:"f514e63d",604:"b9e538fa",721:"634a4ece",925:"a184b92d",987:"00c74191"}[e]+".css"})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="healthypathway:";a.l=(s,l,i,n)=>{if(e[s])e[s].push(l);else{var o,r;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(r=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+i),o.src=s),e[s]=[l];var m=(t,a)=>{o.onerror=o.onload=null,clearTimeout(h);var l=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),l&&l.forEach(e=>e(a)),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),r&&document.head.appendChild(o)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p="/FIT5032_A2_35523298_Yu-Zhong/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,s,l,i)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",a.nc&&(n.nonce=a.nc);var o=a=>{if(n.onerror=n.onload=null,"load"===a.type)l();else{var s=a&&a.type,o=a&&a.target&&a.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+o+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=s,r.request=o,n.parentNode&&n.parentNode.removeChild(n),i(r)}};return n.onerror=n.onload=o,n.href=t,s?s.parentNode.insertBefore(n,s.nextSibling):document.head.appendChild(n),n},t=(e,t)=>{for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s],i=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(i===e||i===t))return l}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){l=n[s],i=l.getAttribute("data-href");if(i===e||i===t)return l}},s=s=>new Promise((l,i)=>{var n=a.miniCssF(s),o=a.p+n;if(t(n,o))return l();e(s,o,null,l,i)}),l={524:0};a.f.miniCss=(e,t)=>{var a={39:1,53:1,242:1,284:1,379:1,430:1,523:1,604:1,721:1,925:1,987:1};l[e]?t.push(l[e]):0!==l[e]&&a[e]&&t.push(l[e]=s(e).then(()=>{l[e]=0},t=>{throw delete l[e],t}))}}})(),(()=>{var e={524:0};a.f.j=(t,s)=>{var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)s.push(l[2]);else{var i=new Promise((a,s)=>l=e[t]=[a,s]);s.push(l[2]=i);var n=a.p+a.u(t),o=new Error,r=s=>{if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var i=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",o.name="ChunkLoadError",o.type=i,o.request=n,l[1](o)}};a.l(n,r,"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,s)=>{var l,i,[n,o,r]=s,c=0;if(n.some(t=>0!==e[t])){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(r)var d=r(a)}for(t&&t(s);c<n.length;c++)i=n[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},s=self["webpackChunkhealthypathway"]=self["webpackChunkhealthypathway"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=a.O(void 0,[504],()=>a(2550));s=a.O(s)})();